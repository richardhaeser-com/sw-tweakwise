!function(){var e={704:function(){},504:function(){},448:function(){},926:function(){},545:function(){},901:function(){},519:function(){},309:function(){},879:function(){},737:function(e,t,n){var i=n(704);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,n(534).A)("42c19e88",i,!0,{})},117:function(e,t,n){var i=n(504);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,n(534).A)("79e4a138",i,!0,{})},5:function(e,t,n){var i=n(448);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,n(534).A)("ed12b038",i,!0,{})},831:function(e,t,n){var i=n(926);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,n(534).A)("76d453d0",i,!0,{})},695:function(e,t,n){var i=n(545);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,n(534).A)("31dc9a10",i,!0,{})},826:function(e,t,n){var i=n(901);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,n(534).A)("4507e770",i,!0,{})},600:function(e,t,n){var i=n(519);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,n(534).A)("35fb9c27",i,!0,{})},786:function(e,t,n){var i=n(309);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,n(534).A)("616e95b0",i,!0,{})},288:function(e,t,n){var i=n(879);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,n(534).A)("f1230ef2",i,!0,{})},534:function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},a=0;a<t.length;a++){var s=t[a],o=s[0],r={id:e+":"+a,css:s[1],media:s[2],sourceMap:s[3]};i[o]?i[o].parts.push(r):n.push(i[o]={id:o,parts:[r]})}return n}n.d(t,{A:function(){return h}});var a,s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},r=s&&(document.head||document.getElementsByTagName("head")[0]),l=null,d=0,c=!1,w=function(){},m=null,u="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,n,a){c=n,m=a||{};var s=i(e,t);return g(s),function(t){for(var n=[],a=0;a<s.length;a++){var r=o[s[a].id];r.refs--,n.push(r)}t?g(s=i(e,t)):s=[];for(var a=0;a<n.length;a++){var r=n[a];if(0===r.refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete o[r.id]}}}}function g(e){for(var t=0;t<e.length;t++){var n=e[t],i=o[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(k(n.parts[a]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var s=[],a=0;a<n.parts.length;a++)s.push(k(n.parts[a]));o[n.id]={id:n.id,refs:1,parts:s}}}}function f(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function k(e){var t,n,i=document.querySelector("style["+u+'~="'+e.id+'"]');if(i){if(c)return w;i.parentNode.removeChild(i)}if(p){var a=d++;t=b.bind(null,i=l||(l=f()),a,!1),n=b.bind(null,i,a,!0)}else t=_.bind(null,i=f()),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){i?(i.css!==e.css||i.media!==e.media||i.sourceMap!==e.sourceMap)&&t(e=i):n()}}var v=(a=[],function(e,t){return a[e]=t,a.filter(Boolean).join("\n")});function b(e,t,n,i){var a=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(t,a);else{var s=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function _(e,t){var n=t.css,i=t.media,a=t.sourceMap;if(i&&e.setAttribute("media",i),m.ssrId&&e.setAttribute(u,t.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={id:i,exports:{}};return e[i](s,s.exports,n),s.exports}n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="bundles/rhaetweakwise/",window?.__sw__?.assetPath&&(n.p=window.__sw__.assetPath+"/bundles/rhaetweakwise/"),function(){"use strict";Shopware.Component.register("sw-cms-block-tweakwise-cross-selling",{template:'{% block sw_cms_block_tweakwise_cross_selling %}\n    <div class="sw-cms-block-tweakwise-cross-selling">\n        <slot name="products">{% block sw_cms_block_tweakwise_cross_selling_products %}{% endblock %}</slot>\n    </div>\n{% endblock %}\n'}),n(831),Shopware.Component.register("sw-cms-preview-tweakwise-cross-selling",{template:'{% block sw_cms_block_tweakwise_cross_selling_preview %}\n    <div class="sw-cms-preview-tweakwise-cross-selling">\n        <sw-icon\n                name="regular-chevron-left"\n                size="20"\n        />\n        <div class="sw-cms-preview-tweakwise-cross-selling__product-box">\n            <sw-cms-product-box-preview />\n            <sw-cms-product-box-preview />\n        </div>\n        <sw-icon\n                name="regular-chevron-right"\n                size="20"\n        />\n    </div>\n{% endblock %}\n'}),Shopware.Service("cmsService").registerCmsBlock({name:"tweakwise-cross-selling",category:"tweakwise",label:"Cross selling",component:"sw-cms-block-tweakwise-cross-selling",previewComponent:"sw-cms-preview-tweakwise-cross-selling",defaultConfig:{marginBottom:"0",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{products:"tweakwise-cross-selling"}}),Shopware.Component.register("sw-cms-block-tweakwise-featured-products",{template:'{% block sw_cms_block_tweakwise_featured_products %}\n    <div class="sw-cms-block-tweakwise-featured-products">\n        <slot name="products">{% block sw_cms_block_tweakwise_featured_products_products %}{% endblock %}</slot>\n    </div>\n{% endblock %}\n'}),n(695),Shopware.Component.register("sw-cms-preview-tweakwise-featured-products",{template:'{% block sw_cms_block_tweakwise_featured_products_preview %}\n    <div class="sw-cms-preview-tweakwise-featured-products">\n        <sw-icon\n                name="regular-chevron-left"\n                size="20"\n        />\n        <div class="sw-cms-preview-tweakwise-featured-products__product-box">\n            <sw-cms-product-box-preview />\n            <sw-cms-product-box-preview />\n        </div>\n        <sw-icon\n                name="regular-chevron-right"\n                size="20"\n        />\n    </div>\n{% endblock %}\n'}),Shopware.Service("cmsService").registerCmsBlock({name:"tweakwise-featured-products",category:"tweakwise",label:"Featured products",component:"sw-cms-block-tweakwise-featured-products",previewComponent:"sw-cms-preview-tweakwise-featured-products",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"20px",marginRight:"20px",sizingMode:"boxed"},slots:{products:"tweakwise-featured-products"}}),Shopware.Component.override("sw-cms-el-config-product-listing",{template:"{% block sw_cms_element_product_listing_config_layout_select_options %}\n    {% parent %}\n    <option value=\"tweakwise\">\n        {{ $tc('sw-cms.elements.productBox.config.label.layoutTypeTweakwise') }}\n    </option>\n{% endblock %}\n"}),n(826);let{Mixin:e}=Shopware;Shopware.Component.register("sw-cms-el-tweakwise-cross-selling",{template:'{% block sw_cms_element_tweakwise_cross_selling %}\n    <div class="sw-cms-el-tweakwise-cross-selling">\n        <h2 class="sw-cms-el-tweakwise-cross-selling__title">{{ placeholder(tweakwiseCrossSelling, \'name\', tweakwiseCrossSelling.name) }}</h2>\n        <div class="sw-cms-el-tweakwise-cross-selling__content">\n            <div class="sw-cms-el-tweakwise-cross-selling__navigation">\n                <sw-icon\n                        class="sw-cms-el-tweakwise-cross-selling__navigation-button"\n                        name="regular-chevron-left"\n                        size="24"\n                />\n            </div>\n\n            <div\n                    ref="productHolder"\n                    class="sw-cms-el-cross-selling__product-holder"\n                    :style="sliderBoxMinWidth"\n            >\n                <sw-cms-el-product-box\n                        v-for="index in 4"\n                        :key="index"\n                        :element="demoProductElement"\n                />\n            </div>\n\n            <div class="sw-cms-el-tweakwise-cross-selling__navigation">\n                <sw-icon\n                        class="sw-cms-el-tweakwise-cross-selling__navigation-button"\n                        name="regular-chevron-right"\n                        size="24"\n                />\n            </div>\n        </div>\n    </div>\n{% endblock %}\n',mixins:[e.getByName("cms-element"),e.getByName("placeholder")],computed:{demoProductElement(){return{config:{boxLayout:{source:"static",value:"standard"},displayMode:{source:"static",value:"standard"},elMinWidth:{source:"static",value:"200px"}}}},sliderBoxMinWidth(){return"repeat(auto-fit, minmax(200px, 1fr))"},tweakwiseCrossSelling(){return{name:"Tweakwise Cross Selling"}}}}),n(600),Shopware.Component.register("sw-cms-el-preview-tweakwise-cross-selling",{template:'{% block sw_cms_element_tweakwise_featured_products_preview %}\n    <div class="sw-cms-el-preview-tweakwise-cross-selling">\n        <sw-icon\n                name="regular-chevron-left"\n                size="10"\n        />\n        <sw-cms-product-box-preview :has-text="false" />\n        <sw-icon\n                name="regular-chevron-right"\n                size="10"\n        />\n    </div>\n{% endblock %}\n'}),Shopware.Component.register("sw-cms-el-config-tweakwise-cross-selling",{template:'{% block sw_cms_element_dailymotion_config %}\n    <sw-text-field\n            v-model="groupKey"\n            class="swag-groupkey-field"\n            :label="$tc(\'sw-cms.elements.tweakwiseCrossSelling.config.groupKey.label\')"\n            :help-text="$tc(\'sw-cms.elements.tweakwiseCrossSelling.config.groupKey.helpText\')"\n            required\n            :placeholder="$tc(\'sw-cms.elements.tweakwiseCrossSelling.config.groupKey.placeHolder\')"\n            @input="onElementUpdate"\n            @change="onElementUpdate"\n            @update:value="onElementUpdate">\n    </sw-text-field>\n{% endblock %}\n',mixins:["cms-element"],computed:{groupKey:{get(){return this.element.config.groupKey.value},set(e){this.element.config.groupKey.value=e}}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("tweakwise-cross-selling")},onElementUpdate(e){this.element.config.groupKey.value=e,this.$emit("element-update",this.element)}}}),Shopware.Service("cmsService").registerCmsElement({name:"tweakwise-cross-selling",label:"sw-cms.elements.tweakwiseFeaturedProducts.label",component:"sw-cms-el-tweakwise-cross-selling",configComponent:"sw-cms-el-config-tweakwise-cross-selling",previewComponent:"sw-cms-el-preview-tweakwise-cross-selling",defaultConfig:{groupKey:{required:!0,source:"static",value:""}}}),n(786),Shopware.Component.register("sw-cms-el-tweakwise-featured-products",{template:'{% block sw_cms_element_tweakwise_featured_products %}\n    <div class="sw-cms-el-tweakwise-featured-products">\n        <sw-icon\n                name="regular-chevron-left"\n                size="10"\n        />\n        <sw-cms-product-box-preview />\n        <sw-cms-product-box-preview />\n        <sw-cms-product-box-preview />\n        <sw-cms-product-box-preview />\n        <sw-icon\n                name="regular-chevron-right"\n                size="10"\n        />\n    </div>\n{% endblock %}\n'}),n(288),Shopware.Component.register("sw-cms-el-preview-tweakwise-featured-products",{template:'{% block sw_cms_element_tweakwise_featured_products_preview %}\n    <div class="sw-cms-el-preview-tweakwise-featured-products">\n        <sw-icon\n                name="regular-chevron-left"\n                size="10"\n        />\n        <sw-cms-product-box-preview :has-text="false" />\n        <sw-icon\n                name="regular-chevron-right"\n                size="10"\n        />\n    </div>\n{% endblock %}\n'}),Shopware.Component.register("sw-cms-el-config-tweakwise-featured-products",{template:'{% block sw_cms_element_dailymotion_config %}\n    <sw-text-field\n            v-model="groupId"\n            class="swag-groupid-field"\n            :label="$tc(\'sw-cms.elements.tweakwiseFeaturedProducts.config.groupId.label\')"\n            :help-text="$tc(\'sw-cms.elements.tweakwiseFeaturedProducts.config.groupId.helpText\')"\n            required\n            :placeholder="$tc(\'sw-cms.elements.tweakwiseFeaturedProducts.config.groupId.placeHolder\')"\n            @input="onElementUpdate"\n            @change="onElementUpdate"\n            @update:value="onElementUpdate">\n    </sw-text-field>\n{% endblock %}\n',mixins:["cms-element"],computed:{groupId:{get(){return this.element.config.groupId.value},set(e){this.element.config.groupId.value=e}}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("tweakwise-featured-products")},onElementUpdate(e){this.element.config.groupId.value=e,this.$emit("element-update",this.element)}}}),Shopware.Service("cmsService").registerCmsElement({name:"tweakwise-featured-products",label:"sw-cms.elements.tweakwiseFeaturedProducts.label",component:"sw-cms-el-tweakwise-featured-products",configComponent:"sw-cms-el-config-tweakwise-featured-products",previewComponent:"sw-cms-el-preview-tweakwise-featured-products",defaultConfig:{groupId:{required:!0,source:"static",value:""}}});let{Criteria:t}=Shopware.Data,{Component:i,Context:a}=Shopware,{mapPropertyErrors:s,mapGetters:o,mapState:r}=i.getComponentHelper();Shopware.Component.override("sw-product-cross-selling-form",{template:'{% block sw_prduct_cross_selling_form_product_stream_field %}\n<div v-if="!useTweakwise">\n    {% parent %}\n</div>\n\n    <div v-if="useTweakwise">\n        <sw-text-field\n            v-model:value="crossSelling.extensions.tweakwise.groupKey"\n            :label="$tc(\'sw-product.crossselling.tweakwiseGroupKey\')"\n            required\n            validation="required"\n            placeholder="Default is sw-cross-sell"\n            :disabled="!allowEdit"\n        />\n    </div>\n{% endblock %}\n\n{% block sw_prduct_cross_selling_form_sort_field %}\n    <div v-if="!useTweakwise">\n        {% parent %}\n    </div>\n{% endblock %}\n\n{% block sw_prduct_cross_selling_form_limit_field %}\n    <div v-if="!useTweakwise">\n        {% parent %}\n    </div>\n{% endblock %}\n\n{% block sw_prduct_cross_selling_form_preview_link %}\n    <div v-if="!useTweakwise">\n        {% parent %}\n    </div>\n{% endblock %}\n',created(){this.crossSelling.extensions.tweakwise||(this.crossSelling.extensions.tweakwise=this.repositoryFactory.create("product_cross_selling_tweakwise").create(Shopware.Context.api))},computed:{crossSellingTypes(){return[{label:this.$tc("sw-product.crossselling.tweakwiseType"),value:"tweakwiseRecommendation"},{label:this.$tc("sw-product.crossselling.productStreamType"),value:"productStream"},{label:this.$tc("sw-product.crossselling.productListType"),value:"productList"}]}},data(){return{showDeleteModal:!1,showModalPreview:!1,productStream:null,productStreamFilter:[],productStreamFilterTree:null,optionSearchTerm:"",useManualAssignment:!1,useTweakwise:!1,sortBy:"name",sortDirection:"ASC",assignmentKey:0}},watch:{"crossSelling.productStreamId"(){this.useManualAssignment||this.useTweakwise||this.loadStreamPreview()}},methods:{createdComponent(){this.useManualAssignment="productList"===this.crossSelling.type,this.useTweakwise="tweakwiseRecommendation"===this.crossSelling.type},onTypeChanged(e){this.useManualAssignment="productList"===e,this.useTweakwise="tweakwiseRecommendation"===e}}}),Shopware.Component.override("sw-product-variants-delivery-listing",{template:'{% block sw_product_variants_delivery_listing_config_single_main_variant_explanation %}\n    {% parent %}\n\n<sw-alert\n        variant="warning"\n        :title="$tc(\'sw-product.listing.warningTitle\')"\n        :closable="false"\n        style="margin-top: 1rem;"\n        v-if="!isDisabledListingMode(\'single\')"\n>\n    {{ $tc(\'sw-product.listing.warning\') }}\n</sw-alert>\n{% endblock %}\n\n{% block sw_product_variants_delivery_listing_config_expanded_group_list %}\n    {% parent %}\n\n<sw-alert\n        variant="warning"\n        :title="$tc(\'sw-product.listing.warningTitle\')"\n        :closable="false"\n        style="margin-top: 1rem;"\n        v-if="!isDisabledListingMode(\'expanded\')"\n>\n    {{ $tc(\'sw-product.listing.warning\') }}\n</sw-alert>\n{% endblock %}\n'});let{Component:l,Mixin:d,Context:c}=Shopware,{Criteria:w}=Shopware.Data;l.register("rhae-tweakwise-feed-list",{template:'<sw-page class="rhae-tweakwise-feed-list">\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc(\'rhae-tweakwise-feed.main.menuLabel\') }}\n        </h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button variant="primary" :routerLink="{ name: \'rhae.tweakwise.feed.create\' }">\n            {{ $tc(\'rhae-tweakwise-feed.list.addButtonText\') }}\n        </sw-button>\n    </template>\n\n    <template #content>\n        <sw-entity-listing\n            v-if="items"\n            :items="items"\n            :repository="repository"\n            :showSelection="true"\n            :columns="columns"\n            detailRoute="rhae.tweakwise.feed.detail"\n            @select-item="updateSelection"\n            @update-records="updateTotal">\n            <template #column-type="{ item }">\n                {{ $tc(\'rhae-tweakwise-feed.detail.label.typeOptions.\' + item.type) }}\n            </template>\n            <template #column-domains="{ item }">\n                <template v-for="(domain, index) in item.salesChannelDomains">{{ domain.url }}<span v-if="index < (item.salesChannelDomains.length - 1)"><br></span></template>\n            </template>\n            <template #column-lastGeneratedAt="{ item }">\n                <sw-time-ago :date="item.lastGeneratedAt" />\n            </template>\n        </sw-entity-listing>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","numberRangeService","context"],mixins:[d.getByName("notification"),d.getByName("listing")],data(){return{items:null,sortBy:"name"}},metaInfo(){return{title:this.$createTitle()}},computed:{repository(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_feed")},searchContext(){return{...c.api,inheritance:!0}},columns(){return[{property:"name",dataIndex:"name",label:this.$t("rhae-tweakwise-feed.list.columns.name"),routerLink:"rhae.tweakwise.feed.detail",inlineEdit:"string",allowResize:!0,primary:!0},{property:"type",dataIndex:"type",label:this.$t("rhae-tweakwise-feed.list.columns.type"),inlineEdit:"string"},{property:"domains",dataIndex:"domains",label:this.$t("rhae-tweakwise-feed.list.columns.domains")},{property:"lastGeneratedAt",dataIndex:"lastGeneratedAt",label:this.$t("rhae-tweakwise-feed.list.columns.lastGeneratedAt")}]}},methods:{async getList(){let e=new w(this.page,this.limit,this.term);e.addAssociation("salesChannelDomains"),this.isLoading=!0;try{let t=await this.repository.search(e,Shopware.Context.api);this.total=t.total,this.isLoading=!1,this.items=t,this.selection={}}catch{this.isLoading=!1}},changeLanguage(){this.getList()},updateSelection(){},updateTotal({total:e}){this.total=e},onDuplicate(e){this.repository.clone(e.id,Shopware.Context.api,{name:`${e.name} ${this.$tc("sw-product.general.copy")}`,locked:!1}).then(e=>{this.$router.push({name:"rhae.tweakwise.feed.detail",params:{id:e.id}})})}},created(){}});var m='{% block sw_tweakwise_feed_detail %}\n<sw-page class="rhae-tweakwise-feed-detail">\n    <template #smart-bar-actions>\n        {% block sw_tweakwise_feed_detail_actions %}\n            {% block sw_tweakwise_feed_detail_actions_refresh %}\n            <sw-button @click="getItem" square>\n                <sw-icon name="regular-undo" small />\n            </sw-button>\n            {% endblock %}\n\n            {% block sw_tweakwise_feed_detail_actions_cancel %}\n            <sw-button :routerLink="{ name: \'rhae.tweakwise.feed.list\' }">\n                {{ $t(\'rhae-tweakwise-feed.detail.cancelButtonText\') }}\n            </sw-button>\n            {% endblock %}\n\n            {% block sw_tweakwise_feed_detail_actions_save %}\n            <sw-button-process\n                    :isLoading="isLoading"\n                    :processSuccess="processSuccess.general"\n                    variant="primary"\n                    @process-finish="saveFinish"\n                    @click="onClickSave">\n                {{ $t(\'rhae-tweakwise-feed.detail.saveButtonText\') }}\n            </sw-button-process>\n            {% endblock %}\n        {% endblock %}\n    </template>\n\n    <template #content>\n        {% block sw_tweakwise_feed_detail_content %}\n        <sw-card-view>\n            {% block sw_tweakwise_feed_detail_content_main %}\n            <sw-card v-if="item" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-feed.detail.section.main\')">\n                <sw-card-section v-if="item.salesChannelDomains[0]" divider="bottom">\n                    <sw-container columns="1fr" gap="30px" style="margin-bottom: 1rem;">\n                        {% block sw_tweakwise_feed_detail_content_main_url %}\n                        <div>\n                            <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                {{ $t(\'rhae-tweakwise-feed.detail.label.feedUrl\') }}\n                            </p>\n\n                            <p>\n                                {{ item.salesChannelDomains[0].url }}/tweakwise/feed-{{item.id}}.xml\n                                <sw-button\n                                    size="small"\n                                    square\n                                    style="margin-left: 0.5rem;"\n                                    @click="copyLinkToClipboard"\n                                    @keydown.enter="copyLinkToClipboard"\n                                >\n                                    <sw-icon\n                                            small\n                                            name="regular-copy"\n                                    />\n                                </sw-button>\n                            </p>\n                        </div>\n                        {% endblock %}\n                    </sw-container>\n                    <sw-container\n                        class="rhae-tweakwise-feed__card-toolbar"\n                        columns="repeat(3, 1fr)"\n                    >\n                        {% block sw_tweakwise_feed_detail_content_main_last_generated %}\n                            <div>\n                                <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                    {{ $t(\'rhae-tweakwise-feed.detail.label.lastGeneratedAt\') }}\n                                </p>\n                                <p v-if="item.lastGeneratedAt"><sw-time-ago :date="item.lastGeneratedAt" :key="item.lastGeneratedAt" /></p>\n                                <p v-else>-</p>\n                            </div>\n                        {% endblock %}\n                        {% block sw_tweakwise_feed_detail_content_main_next_generation %}\n                            <div>\n                                <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                    {{ $t(\'rhae-tweakwise-feed.detail.label.nextGenerationAt\') }}\n                                </p>\n                                <p v-if="item.nextGenerationAt">{{ dateFilter(item.nextGenerationAt, { hour: \'2-digit\', minute: \'2-digit\' }) }}</p>\n                                <p v-else>{{ $t(\'rhae-tweakwise-feed.detail.label.withinOneMinute\') }}</p>\n                                <sw-button size="small" style="margin-top: 1rem;" @click="generateFeedNow" :isLoading="isLoading">\n                                    {{ $t(\'rhae-tweakwise-feed.detail.label.generateNow\') }}\n                                </sw-button>\n                            </div>\n                        {% endblock %}\n                        {% block sw_tweakwise_feed_detail_content_main_status %}\n                            <div>\n                                <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                    {{ $t(\'rhae-tweakwise-feed.detail.label.status\') }}\n                                </p>\n                                <p>{{ $tc(`rhae-tweakwise-feed.detail.label.statusOption.${item.status}`) }}</p>\n                            </div>\n                        {% endblock %}\n                    </sw-container>\n\n                </sw-card-section>\n\n                <sw-card-section>\n                    {% block sw_tweakwise_feed_detail_content_main_type %}\n                    <sw-select-field :label="$t(\'rhae-tweakwise-feed.detail.label.type\')"\n                                     v-model:value="item.type">\n                        <option v-for="value in [\'full\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-feed.detail.label.typeOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n                    {% endblock %}\n\n\n                    {% block sw_tweakwise_feed_detail_content_main_name %}\n                    <sw-text-field :label="$t(\'rhae-tweakwise-feed.detail.label.name\')"\n                              v-model:value="item.name"\n                              required validation="required" ></sw-text-field>\n                    {% endblock %}\n\n                    {% block sw_tweakwise_feed_detail_content_main_domains %}\n                    <sw-entity-multi-select\n                        :label="$t(\'rhae-tweakwise-feed.detail.label.salesChannelDomains\')"\n                        labelProperty="url"\n                        value-property="id"\n                        v-model:entityCollection="item.salesChannelDomains"\n                    />\n                    {% endblock %}\n\n                    {% block sw_tweakwise_feed_detail_content_main_interval %}\n                    <sw-text-field :label="$t(\'rhae-tweakwise-feed.detail.label.interval\')"\n                              v-model:value="item.interval"\n                              required validation="required"></sw-text-field>\n                    {% endblock %}\n\n                    {% block sw_tweakwise_feed_detail_content_main_import_task_url %}\n                    <sw-text-field :label="$t(\'rhae-tweakwise-feed.detail.label.importTaskUrl\')"\n                              v-model:value="item.importTaskUrl"></sw-text-field>\n                    {% endblock %}\n\n                </sw-card-section>\n            </sw-card>\n            {% endblock %}\n\n            {% block sw_tweakwise_feed_detail_content_settings_full %}\n            <sw-card v-if="item && item.type === \'full\'" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-feed.detail.section.data\')">\n                <sw-card-section>\n                    <sw-container\n                            columns="repeat(2, 1fr)"\n                    >\n                        <div>\n                            {% block sw_tweakwise_feed_detail_content_settings_full_include_hidden_categories %}\n                            <sw-checkbox-field\n                                    v-model:value="item.includeHiddenCategories"\n                                    :label="$t(\'rhae-tweakwise-feed.detail.label.includeHiddenCategories\')"\n                                    @update:value="onChangeToggle($event, \'includeHiddenCategories\')"\n                            />\n                            {% endblock %}\n\n                            {% block sw_tweakwise_feed_detail_content_settings_full_grouped_products %}\n                                <sw-checkbox-field\n                                        v-model:value="item.groupedProducts"\n                                        :label="$t(\'rhae-tweakwise-feed.detail.label.groupedProducts\')"\n                                        @update:value="onChangeToggle($event, \'groupedProducts\')"\n                                />\n                            {% endblock %}\n                        </div>\n\n                        <div>\n                            {% block sw_tweakwise_feed_detail_content_settings_full_include_custom_fields %}\n                            <sw-checkbox-field\n                                    v-model:value="item.includeCustomFields"\n                                    :label="$t(\'rhae-tweakwise-feed.detail.label.includeCustomFields\')"\n                                    @update:value="onChangeToggle($event, \'includeCustomFields\')"\n                            />\n                            {% endblock %}\n                        </div>\n                    </sw-container>\n                </sw-card-section>\n            </sw-card>\n            {% endblock %}\n\n            {% block sw_tweakwise_feed_detail_advanced %}\n            <sw-card class="card-advanced" v-if="item && item.type === \'full\'" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-feed.detail.section.advanced\')">\n                <sw-card-section>\n                    {% block sw_tweakwise_feed_detail_advanced_limit %}\n                        <p style="margin-bottom: 1rem;">{{ $t(\'rhae-tweakwise-feed.detail.info.limit\') }}</p>\n                        <sw-select-field :label="$t(\'rhae-tweakwise-feed.detail.label.limit\')"\n                                         v-model:value="item.limit">\n                            <option v-for="value in [\'1\', \'10\', \'25\', \'50\', \'100\', \'250\']" :value="value">\n                                {{ value }}\n                            </option>\n                        </sw-select-field>\n                    {% endblock %}\n\n                </sw-card-section>\n            </sw-card>\n            {% endblock %}\n        </sw-card-view>\n        {% endblock %}\n    </template>\n\n</sw-page>\n{% endblock %}\n';let{Component:u}=Shopware;u.extend("rhae-tweakwise-feed-create","rhae-tweakwise-feed-detail",{template:m,methods:{getItem(){this.item=this.repository.create(Shopware.Context.api),this.item.includeHiddenCategories=!1,this.item.limit=10,this.isLoading=!1},onClickSave(){this.isLoading=!0,this.repository.save(this.item,Shopware.Context.api).then(()=>{this.isLoading=!1,this.$router.push({name:"rhae.tweakwise.feed.detail",params:{id:this.item.id}})}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:this.$tc("rhae-tweakwise.notification.errorTitle"),message:e})})}}}),n(117);let{Component:p,Mixin:h,Context:g,Utils:f}=Shopware,{EntityCollection:k,Criteria:v}=Shopware.Data,{mapPropertyErrors:b}=Shopware.Component.getComponentHelper(),{dom:_,format:C}=f;p.register("rhae-tweakwise-feed-detail",{template:m,inject:["repositoryFactory","context"],mixins:[h.getByName("notification")],metaInfo(){return{title:this.$createTitle()}},data(){return{item:null,salesChannelDomains:null,isLoading:!1,salesChannelDomainIds:[],processes:{generateFeed:!1},processSuccess:{general:!1,generateFeed:!1}}},computed:{repository(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_feed")},salesChannelDomainRepository(){return this.repositoryFactory.create("sales_channel_domain")},salesChannelDomainIds:{get(){return this.salesChannelDomainIds||[]},set(e){this.salesChannelDomainIds={...this.salesChannelDomainIds,salesChannelDomainIds:e}}},dateFilter(){return Shopware.Filter.getByName("date")},defaultCriteria(){return new v}},created(){this.getItem(),this.getSalesChannelDomains()},methods:{getSalesChannelDomains(){this.salesChannelDomains=new k(this.salesChannelDomainRepository.route,this.salesChannelDomainRepository.entityName,g.api)},getFeedUrl(){return this.item.salesChannelDomains[0].url+"/tweakwise/feed-"+this.item.id+".xml"},resetButtons(){this.processSuccess={general:!1,generateFeed:!1}},generateFeedNow(){this.isLoading=!0,this.item.nextGenerationAt=null,this.repository.save(this.item,g.api).then(()=>{this.getItem(),this.isLoading=!1,this.processSuccess=!0}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:"Unknown error",message:e})})},getItem(){var e=new v;e.addAssociation("salesChannelDomains"),this.repository.get(this.$route.params.id,g.api,e).then(e=>{this.item=e})},onChangeValue(e,t,n=!0){this.item[t]=e,this.$emit("change-value",t,e)},onChangeToggle(e,t){this.onChangeValue(e,t,!1)},convert(e,t){console.log(e)},onChangeToggleRevert(e,t){console.log(e),this.onChangeValue(e,t,!1)},onClickSave(){this.isLoading=!0,this.repository.save(this.item,g.api).then(()=>{this.getItem(),this.isLoading=!1,this.processSuccess=!0}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:this.$tc("rhae-tweakwise-feed.notification.errorTitle"),message:e})})},setSalesChannelDomains(e){this.salesChannelDomains=e,this.item.salesChannelDomains=e},saveFinish(){this.processSuccess=!1},async copyLinkToClipboard(){if(this.item)try{await _.copyStringToClipboard(this.getFeedUrl()),this.createNotificationSuccess({message:this.$tc("sw-media.general.notification.urlCopied.message")})}catch(e){this.createNotificationError({title:this.$tc("global.default.error"),message:this.$tc("global.sw-field.notification.notificationCopyFailureMessage")})}}}}),n(737),Shopware.Component.register("rhae-tweakwise-settings-icon",{template:'{% block rhae_tweakwise_settings_icon %}\n    <div class="rhae-tweakwise-settings-icon">\n        <img height="30" width="30" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgaWQ9IlR3ZWFrd2lzZV93aXQiCiAgIHZpZXdCb3g9IjAgMCAzOTQuMjcyIDQxOS43NTM2IgogICB2ZXJzaW9uPSIxLjEiCiAgIHNvZGlwb2RpOmRvY25hbWU9InR3ZWFrd2lzZS1sZXR0ZXItd2l0LnN2ZyIKICAgd2lkdGg9IjM5NC4yNzIiCiAgIGhlaWdodD0iNDE5Ljc1MzYiCiAgIGlua3NjYXBlOnZlcnNpb249IjEuMC4yIChlODZjODcwOCwgMjAyMS0wMS0xNSkiPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTg5NCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGRlZnMKICAgICBpZD0iZGVmczg5MiIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE3OTIiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAwNyIKICAgICBpZD0ibmFtZWR2aWV3ODkwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBmaXQtbWFyZ2luLXRvcD0iMCIKICAgICBmaXQtbWFyZ2luLWxlZnQ9IjAiCiAgICAgZml0LW1hcmdpbi1yaWdodD0iMCIKICAgICBmaXQtbWFyZ2luLWJvdHRvbT0iMCIKICAgICBpbmtzY2FwZTp6b29tPSIwLjY2NzI4Njc2IgogICAgIGlua3NjYXBlOmN4PSI3MjEuNTU5NSIKICAgICBpbmtzY2FwZTpjeT0iMjM4LjUyNzM0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyNSIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIwIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9IlR3ZWFrd2lzZV93aXQiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtcm90YXRpb249IjAiIC8+CiAgPHBhdGgKICAgICBkPSJNIDI0MS44MTUwOSwzMzYuODEzMjYgViA5MS40MjU0NjQgaCA1MC45ODg1IGMgNS4yNDI0LDAgNi42NzcsLTEuNjU4OCA3LjYzMDgsMy4xMTg5IGwgNy42MzA5LDM5LjM1MDI5NiBoIDUyLjY2MzUgViA0MC40NjIzNjQgSCA0Ni40NTY3ODggdiA5My40MzIxOTYgaCA1OC45MTgzMDIgbCA3LjYzMDksLTM5LjM1MDI5NiBjIDAuOTQ1MywtNC43Nzc4IDIuMzgwOCwtMy4xMTg5IDcuNjMwOCwtMy4xMTg5IGggNDQuNzMzNyBWIDMzNi44MTMyNiBjIDAsNy4xNTc4IDEuOTQwOCw5LjA2NTUgLTQuNzM2Miw5LjUzODYgbCAtNDYuMjI2OCwzLjM0MzIgdiAzMC41MjA5IGggMTg2Ljg2NDUgdiAtMzAuNTIwOSBsIC01Mi4xNDEyLC0zLjgxNjMgYyAtNy4xNTc4LC0wLjQ4MDggLTcuMzE1NywtMi4zOCAtNy4zMTU3LC05LjA2NTUgeiIKICAgICBmaWxsPSIjZmZmZmZmIgogICAgIGlkPSJwYXRoODMzIgogICAgIHN0eWxlPSJmaWxsOiNmZmZmZmYiIC8+Cjwvc3ZnPgo=" alt="Tweakwise logo" />\n    </div>\n{% endblock %}\n'});var y=JSON.parse('{"rhae-tweakwise-feed":{"main":{"menuLabel":"Tweakwise Feed","menuDescription":"Configureer je Tweakwise feed"},"list":{"addButtonText":"Maak nieuwe feed","refreshButtonText":"Vernieuwen","columns":{"name":"Feed naam","type":"Soort feed","domains":"Domeinnamen","lastGeneratedAt":"Laatst gegenereerd op"}},"detail":{"cancelButtonText":"Annuleren","saveButtonText":"Opslaan","section":{"main":"Algemeen","data":"Data","advanced":"Geavanceerd"},"info":{"limit":"Producten worden vanuit Shopware opgehaald in batches. Met deze instelling bepaal je hoeveel producten er in 1 batch zitten. Hoe hoger het aantal, hoe meer geheugen het nodig heeft bij het genereren van de feed. Hoe lager het aantal, hoe meer tijd het zal kosten. De beste instelling is afhankelijk van de data. Probeer een zo hoog mogelijk aantal zonder dat dit problemen oplevert voor de server."},"label":{"name":"Naam","salesChannelDomains":"Domeinen","feedUrl":"Feed URL","lastGeneratedAt":"Laatst gegenereerd op","includeHiddenCategories":"Exporteer ook verborgen categorie\xebn","includeHiddenCategoriesTrue":"Ja","includeHiddenCategoriesFalse":"Nee","interval":"Herhaling (cron notatie of interval in minuten)","importTaskUrl":"API URL van Import taak in Tweakwise","intervalDescription":"Let op dat de interval moet worden ingesteld in overleg met Tweakwise. Het heeft bijvoorbeeld geen nut om de feed iedere 30 minuten te updaten terwijl Tweakwise de feed maar een keer per dag ophaalt.","includeCustomFields":"Exporteer alle vrije velden van een product","nextGenerationAt":"Wordt opnieuw gegenereerd op","limit":"Batch grootte","status":"Status","statusOption":{"queued":"In de wachtrij","running":"Bezig","completed":"Afgerond","undefined":"-","null":"-"},"intervalOptions":{"30":"30 minuten","60":"1 uur","360":"6 uur","720":"12 uur","1440":"24 uur"},"type":"Type feed","typeOptions":{"full":"Volledige feed"},"generateNow":"Opnieuw genereren","withinOneMinute":"Binnen een minuut","groupedProducts":"Exporteer alle varianten naar Tweakwise, zonder rekening te houden met de Shopware-instellingen"}}}}'),I=JSON.parse('{"rhae-tweakwise-feed":{"main":{"menuLabel":"Tweakwise Feed","menuDescription":"Configure your Tweakwise feed"},"list":{"addButtonText":"Create new feed","refreshButtonText":"Refresh","columns":{"name":"Feed name","type":"Type of feed","domains":"Domains","lastGeneratedAt":"Last generated at"}},"detail":{"cancelButtonText":"Cancel","saveButtonText":"Save","section":{"main":"General","data":"Data","advanced":"Advanced"},"info":{"limit":"Products will be retrieved from Shopware in batches. How many products should be handled in one batch? The higher this number, the more memory it will consume during feed generation. The lower the number, the more time it will take to generate the feed. As the optimal performance depends on the data, you can try to get the highest number without stressing your server too much."},"label":{"name":"Name","salesChannelDomains":"Domains","feedUrl":"Feed URL","lastGeneratedAt":"Last generated at","includeHiddenCategories":"Include hidden categories","includeHiddenCategoriesTrue":"True","includeHiddenCategoriesFalse":"False","interval":"Recurring (cron notation or interval in minutes)","importTaskUrl":"API URL of Import Task in Tweakwise","intervalDescription":"Please be aware that the interval should be set as discussed with Tweakwise. It doesn\'t make sense to generate the feed every 30 minutes while Tweakwise gets the feed only once a day.","nextGenerationAt":"Will be regenerated on","status":"Status","exclude":"With the options below, you can decide what data should be available in the feed. By removing relations, you will lower the memory consumption. Please only use these toggles when you are familiar with the data structure of Shopware products.","excludeChildren":"I have no variant products. Remove the relation with child products","excludeReviews":"Don\'t add data of product reviews to the feed. The relation with reviews will not be made","excludeTags":"Tags should not be added to the feed. Remove the relation with tags","excludeOptions":"Options defining the variant should not be added to the feed. Remove the relation with options","excludeProperties":"Options that are not defining the variant should not be added to the feed. Remote the relation with properties","groupedProducts":"Export all variants to Tweakwise, ignoring the Shopware listing settings","includeCustomFields":"Include all custom fields in the feed","limit":"Batch size","yesno":{"0":"No","1":"Yes"},"statusOption":{"queued":"Queued","running":"Running","completed":"Completed","undefined":"-","null":"-"},"intervalOptions":{"30":"30 minutes","60":"1 hour","360":"6 hours","720":"12 hours","1440":"24 hours"},"type":"Type of feed","typeOptions":{"full":"Full feed"},"generateNow":"Generate now","withinOneMinute":"Within one minute"},"generate":{"heading":"Generate feed","text":"The Tweakwise feed is automatically generated periodically. If you want to generate the feed now, you can do this by using the button on the right.","button":"Generate feed"}}}}');Shopware.Module.register("rhae-tweakwise-feed",{type:"plugin",name:"Tweakwise Feed",title:"rhae-tweakwise-feed.main.menuLabel",description:"rhae-tweakwise-feed.main.menuDescription",color:"#01b7cd",snippets:{"nl-NL":y,"en-GB":I},routes:{list:{component:"rhae-tweakwise-feed-list",path:"list",meta:{parentPath:"sw.settings.index.plugins"}},detail:{component:"rhae-tweakwise-feed-detail",path:"detail/:id",meta:{parentPath:"rhae.tweakwise.feed.list"}},create:{component:"rhae-tweakwise-feed-create",path:"create",meta:{parentPath:"rhae.tweakwise.feed.list"}}},settingsItem:{name:"rhae-tweakwise-feed-list",to:"rhae.tweakwise.feed.list",label:"rhae-tweakwise-feed.main.menuLabel",group:"plugins",iconComponent:"rhae-tweakwise-settings-icon"}});let{Component:S,Mixin:x,Context:T}=Shopware,{Criteria:A}=Shopware.Data;S.register("rhae-tweakwise-frontend-list",{template:'<sw-page class="rhae-tweakwise-frontend-list">\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc(\'rhae-tweakwise-frontend.main.menuLabel\') }}\n        </h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button variant="primary" :routerLink="{ name: \'rhae.tweakwise.frontend.create\' }">\n            {{ $tc(\'rhae-tweakwise-frontend.list.addButtonText\') }}\n        </sw-button>\n    </template>\n\n    <template #content>\n        <sw-entity-listing\n            v-if="items"\n            :items="items"\n            :repository="repository"\n            :showSelection="true"\n            :columns="columns"\n            detailRoute="rhae.tweakwise.frontend.detail"\n            @select-item="updateSelection"\n            @update-records="updateTotal">\n            <template #more-actions="{ item }">\n                <sw-context-menu-item @click="onDuplicate(item)">\n                    {{ $tc(\'sw-product.list.buttonDuplicate\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-entity-listing>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","numberRangeService","context"],mixins:[x.getByName("notification"),x.getByName("listing")],data(){return{items:null,sortBy:"name"}},metaInfo(){return{title:this.$createTitle()}},computed:{repository(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_frontend")},searchContext(){return{...T.api,inheritance:!0}},columns(){return[{property:"name",dataIndex:"name",label:this.$t("rhae-tweakwise-frontend.list.columns.name"),routerLink:"rhae.tweakwise.frontend.detail",inlineEdit:"string",allowResize:!0,primary:!0}]}},methods:{async getList(){let e=new A(this.page,this.limit,this.term);this.isLoading=!0;try{let t=await this.repository.search(e,Shopware.Context.api);this.total=t.total,this.isLoading=!1,this.items=t,this.selection={}}catch{this.isLoading=!1}},changeLanguage(){this.getList()},updateSelection(){},updateTotal({total:e}){this.total=e},onDuplicate(e){this.repository.clone(e.id,Shopware.Context.api,{name:`${e.name} ${this.$tc("sw-product.general.copy")}`,locked:!1}).then(e=>{this.$router.push({name:"rhae.tweakwise.frontend.detail",params:{id:e.id}})})}},created(){}});var L='<sw-page class="rhae-tweakwise-frontend-detail">\n    <template #smart-bar-actions>\n        <sw-button :routerLink="{ name: \'rhae.tweakwise.frontend.list\' }">\n            {{ $t(\'rhae-tweakwise-frontend.detail.cancelButtonText\') }}\n        </sw-button>\n\n        <sw-button-process\n                :isLoading="isLoading"\n                :processSuccess="processSuccess"\n                variant="primary"\n                @process-finish="saveFinish"\n                @click="onClickSave">\n            {{ $t(\'rhae-tweakwise-frontend.detail.saveButtonText\') }}\n        </sw-button-process>\n    </template>\n\n    <template #content>\n        <sw-card-view>\n            <sw-card v-if="item" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-frontend.detail.section.main\')">\n\n                <sw-card-section>\n                    <sw-entity-multi-select\n                            :label="$t(\'rhae-tweakwise-frontend.detail.label.salesChannelDomains\')"\n                            labelProperty="url"\n                            value-property="id"\n                            v-model:entityCollection="item.salesChannelDomains"\n                    />\n\n                    <sw-text-field :label="$t(\'rhae-tweakwise-frontend.detail.label.name\')"\n                              v-model:value="item.name"\n                              required validation="required" ></sw-text-field>\n\n                    <sw-text-field :label="$t(\'rhae-tweakwise-frontend.detail.label.token\')"\n                              v-model:value="item.token" :error="tokenError" @blur="checkPossibilities"></sw-text-field>\n\n                    <sw-select-field v-if="validToken" :label="$t(\'rhae-tweakwise-frontend.detail.label.integration\')"\n                                     v-model:value="item.integration">\n                        <option v-for="value in [\'no-integration\',\'pluginstudio\',\'javascript\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.integrationOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n\n                    <sw-checkbox-field\n                            v-model:value="item.eventTagEnabled"\n                            :label="$t(\'rhae-tweakwise-frontend.detail.label.eventTagEnabled\')"\n                            @update:value="onChangeToggle($event, \'eventTagEnabled\')"\n                    />\n                </sw-card-section>\n\n            </sw-card>\n            <sw-card v-if="validToken && (item.integration === \'javascript\' || item.integration === \'pluginstudio\')" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-frontend.detail.section.search\')">\n                <sw-card-section>\n                    <sw-select-field :label="$t(\'rhae-tweakwise-frontend.detail.label.wayOfSearch\')"\n                                     v-model:value="item.wayOfSearch">\n                        <option value="instant-search">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.wayOfSearchOptions.instant-search\') }}\n                        </option>\n                        <option value="suggestions" v-if="suggestionsAvailable">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.wayOfSearchOptions.suggestions\') }}\n                        </option>\n                    </sw-select-field>\n\n                    <sw-container\n                            columns="2fr 2fr 2fr"\n                            gap="0px 30px"\n                            v-if="item.integration === \'javascript\'"\n                    >\n                        <sw-number-field numberType="int" :label="$t(\'rhae-tweakwise-frontend.detail.label.productsDesktop\')"\n                                         v-model:value="item.productsDesktop">\n                        </sw-number-field>\n                        <sw-number-field numberType="int" :label="$t(\'rhae-tweakwise-frontend.detail.label.productsTablet\')"\n                                         v-model:value="item.productsTablet">\n                        </sw-number-field>\n                        <sw-number-field numberType="int" :label="$t(\'rhae-tweakwise-frontend.detail.label.productsMobile\')"\n                                         v-model:value="item.productsMobile">\n                        </sw-number-field>\n                    </sw-container>\n\n                    <sw-select-field :label="$t(\'rhae-tweakwise-frontend.detail.label.paginationType\')"\n                                     v-model:value="item.paginationType"\n                                     v-if="item.integration === \'javascript\'"\n                    >\n                        <option v-for="value in [\'default\',\'button\', \'infinite\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.paginationTypeOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n\n                </sw-card-section>\n            </sw-card>\n            <sw-card v-if="validToken && (item.integration === \'javascript\' || item.integration === \'pluginstudio\')" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-frontend.detail.section.merchandise\')">\n                <sw-card-section>\n                    <sw-checkbox-field\n                            v-model:value="item.fullPathCid"\n                            :label="$t(\'rhae-tweakwise-frontend.detail.label.fullPathCid\')"\n                            @update:value="onChangeToggle($event, \'fullPathCid\')"\n                    />\n                </sw-card-section>\n            </sw-card>\n            <sw-card v-if="validToken && recommendationsAvailable && (item.integration === \'javascript\' || item.integration === \'pluginstudio\')" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-frontend.detail.section.checkoutSales\')">\n                <sw-card-section>\n                    <sw-select-field :label="$t(\'rhae-tweakwise-frontend.detail.label.checkoutSales\')"\n                                     v-model:value="item.checkoutSales">\n                        <option v-for="value in [\'no-checkout-sales\',\'featured-products\',\'recommendations\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.checkoutSalesOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n\n                    <sw-text-field :label="$t(\'rhae-tweakwise-frontend.detail.label.checkoutSalesFeaturedProductsId\')"\n                              v-if="item.checkoutSales === \'featured-products\'"\n                              v-model:value="item.checkoutSalesFeaturedProductsId"></sw-text-field>\n\n                    <sw-text-field :label="$t(\'rhae-tweakwise-frontend.detail.label.checkoutSalesRecommendationsGroupKey\')"\n                              v-if="item.checkoutSales === \'recommendations\'"\n                              v-model:value="item.checkoutSalesRecommendationsGroupKey"></sw-text-field>\n                </sw-card-section>\n            </sw-card>\n        </sw-card-view>\n    </template>\n\n</sw-page>\n';let{Component:D}=Shopware;D.extend("rhae-tweakwise-frontend-create","rhae-tweakwise-frontend-detail",{template:L,methods:{getItem(){this.item=this.repository.create(Shopware.Context.api),this.isLoading=!1},onClickSave(){this.isLoading=!0,this.repository.save(this.item,Shopware.Context.api).then(()=>{this.isLoading=!1,this.$router.push({name:"rhae.tweakwise.frontend.detail",params:{id:this.item.id}})}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:this.$tc("rhae-tweakwise.notification.errorTitle"),message:e})})}}}),n(5);let{Component:M,Mixin:N,Context:$}=Shopware,{EntityCollection:j,Criteria:G}=Shopware.Data,{mapPropertyErrors:z}=Shopware.Component.getComponentHelper();M.register("rhae-tweakwise-frontend-detail",{template:L,inject:["repositoryFactory","context"],mixins:[N.getByName("notification")],metaInfo(){return{title:this.$createTitle()}},data(){return{item:null,salesChannelDomains:null,isLoading:!1,validToken:!1,tokenError:null,suggestionsAvailable:!1,recommendationsAvailable:!1,processSuccess:!1,salesChannelDomainIds:[]}},computed:{repository(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_frontend")},salesChannelDomainRepository(){return this.repositoryFactory.create("sales_channel_domain")},salesChannelDomainIds:{get(){return this.salesChannelDomainIds||[]},set(e){this.salesChannelDomainIds={...this.salesChannelDomainIds,salesChannelDomainIds:e}}},defaultCriteria(){return new G}},created(){this.getItem(),this.getSalesChannelDomains()},methods:{async checkPossibilities(){if(this.validToken=!1,this.suggestionsAvailable=!1,this.recommendationsAvailable=!1,this.item.token)try{this.isLoading=!0;let e=Shopware.Application.getContainer("init").httpClient,t={headers:{Authorization:`Bearer ${Shopware.Service("loginService").getToken()}`}},n=await e.get("/_action/rhae-tweakwise/check-possibilities/"+this.item.token,t);this.validToken=!0===n.data.validToken,this.suggestionsAvailable=!0===n.data.features.suggestions,this.recommendationsAvailable=!0===n.data.features.recommendations}catch(e){}finally{this.tokenError=null,this.validToken||(this.tokenError={detail:this.$tc("rhae-tweakwise-frontend.notification.tokenError")}),this.isLoading=!1}},getSalesChannelDomains(){this.salesChannelDomains=new j(this.salesChannelDomainRepository.route,this.salesChannelDomainRepository.entityName,$.api)},getItem(){var e=new G;e.addAssociation("salesChannelDomains"),this.repository.get(this.$route.params.id,$.api,e).then(e=>{this.item=e,this.checkPossibilities()})},onChangeValue(e,t,n=!0){this.item[t]=e,this.$emit("change-value",t,e)},onChangeToggle(e,t){this.onChangeValue(e,t,!1)},onClickSave(){this.isLoading=!0,this.repository.save(this.item,$.api).then(()=>{this.getItem(),this.isLoading=!1,this.processSuccess=!0}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:this.$tc("rhae-tweakwise-frontend.notification.errorTitle"),message:e})})},setSalesChannelDomains(e){this.salesChannelDomains=e,this.item.salesChannelDomains=e},saveFinish(){this.processSuccess=!1}}});var Z=JSON.parse('{"rhae-tweakwise-frontend":{"main":{"menuLabel":"Tweakwise frontend","menuDescription":"Configureer je Tweakwise frontend"},"list":{"addButtonText":"Maak nieuwe frontend","refreshButtonText":"Vernieuwen","columns":{"name":"Frontend naam"}},"notification":{"tokenError":"Ongeldige instance key opgegeven"},"detail":{"cancelButtonText":"Annuleren","saveButtonText":"Opslaan","section":{"main":"Algemeen","data":"Data","checkoutSales":"Kassakoopjes","search":"Zoeken"},"label":{"name":"Naam","token":"Instance key","integration":"Manier van integreren","integrationOptions":{"no-integration":"Geen integratie","javascript":"JavaScript integratie","pluginstudio":"Plugin Studio implementatie"},"eventTagEnabled":"Activeer geavanceerde analytics (bijv. voor personalisatie)","wayOfSearch":"Manier van zoeken","wayOfSearchOptions":{"instant-search":"Direct zoeken","suggestions":"Suggesties + aparte zoekpagina"},"checkoutSales":"Kassakoopjes","checkoutSalesOptions":{"no-checkout-sales":"Geen kassakoopjes","featured-products":"Toon uitgelichte producten","recommendations":"Toon aanbevelingen gebaseerd op het laatst toegevoegde product"},"checkoutSalesFeaturedProductsId":"Uitgelichte producten ID","checkoutSalesRecommendationsGroupKey":"Groep sleutel gebruikt voor cross-sell","salesChannelDomains":"Domeinen","productsDesktop":"Aantal producten per rij op desktop","productsTablet":"Aantal producten per rij op tablet","productsMobile":"Aantal producten per rij op mobiel","paginationType":"Type paginering","paginationTypeOptions":{"default":"Standaard","button":"Knop","infinite":"Oneindig"}}}}}'),B=JSON.parse('{"rhae-tweakwise-frontend":{"main":{"menuLabel":"Tweakwise frontend","menuDescription":"Configure your Tweakwise frontend"},"list":{"addButtonText":"Create new frontend","refreshButtonText":"Refresh","columns":{"name":"Frontend name"}},"notification":{"tokenError":"Invalid instance key given"},"detail":{"cancelButtonText":"Cancel","saveButtonText":"Save","section":{"main":"General","data":"Data","checkoutSales":"Checkout sales","search":"Search"},"label":{"name":"Name","token":"Instance key","integration":"Way of integration","integrationOptions":{"no-integration":"No integration","javascript":"JavaScript implementation","pluginstudio":"Plugin Studio implementation"},"eventTagEnabled":"Enable advanced analytics (e.g., for personalization)","wayOfSearch":"Way of search","wayOfSearchOptions":{"instant-search":"Instant search","suggestions":"Suggestions + Dedicated search page"},"checkoutSales":"Checkout sales","checkoutSalesOptions":{"no-checkout-sales":"No checkout sales","featured-products":"Show featured products","recommendations":"Show recommendations based on last item in cart"},"checkoutSalesFeaturedProductsId":"Featured recommendation ID","checkoutSalesRecommendationsGroupKey":"Group key used for cross-sell","salesChannelDomains":"Domains","productsDesktop":"Products per row on desktop","productsTablet":"Products per row on tablet","productsMobile":"Products per row on mobile","paginationType":"Type of pagination","paginationTypeOptions":{"default":"Default","button":"Button","infinite":"Infinite"}}}}}');Shopware.Module.register("rhae-tweakwise-frontend",{type:"plugin",name:"Tweakwise frontend",title:"rhae-tweakwise-frontend.main.menuLabel",description:"rhae-tweakwise-frontend.main.menuDescription",color:"#01b7cd",snippets:{"nl-NL":Z,"en-GB":B},routes:{list:{component:"rhae-tweakwise-frontend-list",path:"list",meta:{parentPath:"sw.settings.index.plugins"}},detail:{component:"rhae-tweakwise-frontend-detail",path:"detail/:id",meta:{parentPath:"rhae.tweakwise.frontend.list"}},create:{component:"rhae-tweakwise-frontend-create",path:"create",meta:{parentPath:"rhae.tweakwise.frontend.list"}}},settingsItem:{name:"rhae-tweakwise-frontend-list",to:"rhae.tweakwise.frontend.list",label:"rhae-tweakwise-frontend.main.menuLabel",group:"plugins",iconComponent:"rhae-tweakwise-settings-icon"}});let{Component:O}=Shopware;O.override("sw-cms-sidebar",{template:"{% block sw_cms_sidebar_block_overview_category_options %}\n    {% block sw_cms_sidebar_block_overview_category_tweakwise %}\n        <option value=\"tweakwise\">\n            {{ $tc('sw-cms.component.sw-cms-sidebar.blockTweakwise') }}\n        </option>\n    {% endblock %}\n\n    {% parent %}\n{% endblock %}\n"})}()}();