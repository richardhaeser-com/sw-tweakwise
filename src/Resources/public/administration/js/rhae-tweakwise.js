/*! For license information please see rhae-tweakwise.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=(window.__sw__.assetPath + '/bundles/rhaetweakwise/'),n(n.s="M9qA")}({"+Zcu":function(e,t,n){},"1X/h":function(e,t,n){var r=n("vViF");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("4ba8967c",r,!0,{})},"28D9":function(e,t,n){var r=n("O53K");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("0ca402a6",r,!0,{})},"7UV0":function(e,t,n){},"9poW":function(e){e.exports=JSON.parse('{"rhae-tweakwise-feed":{"main":{"menuLabel":"Tweakwise Feed","menuDescription":"Configureer je Tweakwise feed"},"list":{"addButtonText":"Maak nieuwe feed","refreshButtonText":"Vernieuwen","columns":{"name":"Feed naam","type":"Soort feed","domains":"Domeinnamen","lastGeneratedAt":"Laatst gegenereerd op"}},"detail":{"cancelButtonText":"Annuleren","saveButtonText":"Opslaan","section":{"main":"Algemeen","data":"Data","advanced":"Geavanceerd"},"info":{"limit":"Producten worden vanuit Shopware opgehaald in batches. Met deze instelling bepaal je hoeveel producten er in 1 batch zitten. Hoe hoger het aantal, hoe meer geheugen het nodig heeft bij het genereren van de feed. Hoe lager het aantal, hoe meer tijd het zal kosten. De beste instelling is afhankelijk van de data. Probeer een zo hoog mogelijk aantal zonder dat dit problemen oplevert voor de server."},"label":{"name":"Naam","salesChannelDomains":"Domeinen","feedUrl":"Feed URL","lastGeneratedAt":"Laatst gegenereerd op","includeHiddenCategories":"Exporteer ook verborgen categorieÃ«n","includeHiddenCategoriesTrue":"Ja","includeHiddenCategoriesFalse":"Nee","interval":"Herhaling (cron notatie of interval in minuten)","importTaskUrl":"API URL van Import taak in Tweakwise","intervalDescription":"Let op dat de interval moet worden ingesteld in overleg met Tweakwise. Het heeft bijvoorbeeld geen nut om de feed iedere 30 minuten te updaten terwijl Tweakwise de feed maar een keer per dag ophaalt.","includeCustomFields":"Exporteer alle vrije velden van een product","respectHideCloseoutProductsWhenOutOfStock":"Respecteer Shopware instelling om uitverkoopproducten te verbergen als deze zijn uitverkocht","nextGenerationAt":"Wordt opnieuw gegenereerd op","limit":"Batch grootte","status":"Status","statusOption":{"queued":"In de wachtrij","running":"Bezig","completed":"Afgerond","undefined":"-","null":"-"},"intervalOptions":{"30":"30 minuten","60":"1 uur","360":"6 uur","720":"12 uur","1440":"24 uur"},"type":"Type feed","typeOptions":{"full":"Volledige feed"},"generateNow":"Opnieuw genereren","withinOneMinute":"Binnen een minuut","groupedProducts":"Exporteer alle varianten naar Tweakwise, zonder rekening te houden met de Shopware-instellingen","exclude":"Met de opties hier beneden, kan je bepalen welke data beschikbaar wordt in de feed. Door relaties te verwijderen, zal er minder geheugen gebruikt worden. Gebruik alleen deze opties als je bekend bent met de data-structuur van Shopware producten","excludeChildren":"Ik heb geen varianten. Verwijder de relatie met onderliggende producten","excludeReviews":"Don\'t add data of product reviews to the feed. The relation with reviews will not be made","excludeTags":"Tags should not be added to the feed. Remove the relation with tags","excludeOptions":"Options defining the variant should not be added to the feed. Remove the relation with options","excludeProperties":"Options that are not defining the variant should not be added to the feed. Remote the relation with properties","yesno":{"0":"Nee","1":"Ja"}},"generate":{"heading":"Genereer feed","text":"The Tweakwise feed is automatically generated periodically. If you want to generate the feed now, you can do this by using the button on the right.","button":"Genereer feed"}}}}')},Bnbb:function(e,t,n){var r=n("L4wy");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("77e40346",r,!0,{})},CY1B:function(e,t,n){var r=n("sHAt");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("2cd82764",r,!0,{})},L4wy:function(e,t,n){},M0cx:function(e){e.exports=JSON.parse('{"rhae-tweakwise-feed":{"main":{"menuLabel":"Tweakwise Feed","menuDescription":"Configure your Tweakwise feed"},"list":{"addButtonText":"Create new feed","refreshButtonText":"Refresh","columns":{"name":"Feed name","type":"Type of feed","domains":"Domains","lastGeneratedAt":"Last generated at"}},"detail":{"cancelButtonText":"Cancel","saveButtonText":"Save","section":{"main":"General","data":"Data","advanced":"Advanced"},"info":{"limit":"Products will be retrieved from Shopware in batches. How many products should be handled in one batch? The higher this number, the more memory it will consume during feed generation. The lower the number, the more time it will take to generate the feed. As the optimal performance depends on the data, you can try to get the highest number without stressing your server too much."},"label":{"name":"Name","salesChannelDomains":"Domains","feedUrl":"Feed URL","lastGeneratedAt":"Last generated at","includeHiddenCategories":"Include hidden categories","includeHiddenCategoriesTrue":"True","includeHiddenCategoriesFalse":"False","interval":"Recurring (cron notation or interval in minutes)","importTaskUrl":"API URL of Import Task in Tweakwise","intervalDescription":"Please be aware that the interval should be set as discussed with Tweakwise. It doesn\'t make sense to generate the feed every 30 minutes while Tweakwise gets the feed only once a day.","nextGenerationAt":"Will be regenerated on","status":"Status","exclude":"With the options below, you can decide what data should be available in the feed. By removing relations, you will lower the memory consumption. Please only use these toggles when you are familiar with the data structure of Shopware products.","excludeChildren":"I have no variant products. Remove the relation with child products","excludeReviews":"Don\'t add data of product reviews to the feed. The relation with reviews will not be made","excludeTags":"Tags should not be added to the feed. Remove the relation with tags","excludeOptions":"Options defining the variant should not be added to the feed. Remove the relation with options","excludeProperties":"Options that are not defining the variant should not be added to the feed. Remote the relation with properties","groupedProducts":"Export all variants to Tweakwise, ignoring the Shopware listing settings","includeCustomFields":"Include all custom fields in the feed","respectHideCloseoutProductsWhenOutOfStock":"Respect Shopware setting to hide products after clearance","limit":"Batch size","yesno":{"0":"No","1":"Yes"},"statusOption":{"queued":"Queued","running":"Running","completed":"Completed","undefined":"-","null":"-"},"intervalOptions":{"30":"30 minutes","60":"1 hour","360":"6 hours","720":"12 hours","1440":"24 hours"},"type":"Type of feed","typeOptions":{"full":"Full feed"},"generateNow":"Generate now","withinOneMinute":"Within one minute"},"generate":{"heading":"Generate feed","text":"The Tweakwise feed is automatically generated periodically. If you want to generate the feed now, you can do this by using the button on the right.","button":"Generate feed"}}}}')},M9qA:function(e,t,n){"use strict";n.r(t);Shopware.Component.register("sw-cms-block-tweakwise-cross-selling",{template:'{% block sw_cms_block_tweakwise_cross_selling %}\n    <div class="sw-cms-block-tweakwise-cross-selling">\n        <slot name="products">{% block sw_cms_block_tweakwise_cross_selling_products %}{% endblock %}</slot>\n    </div>\n{% endblock %}\n'});n("28D9");Shopware.Component.register("sw-cms-preview-tweakwise-cross-selling",{template:'{% block sw_cms_block_tweakwise_cross_selling_preview %}\n    <div class="sw-cms-preview-tweakwise-cross-selling">\n        <sw-icon\n                name="regular-chevron-left"\n                size="20"\n        />\n        <div class="sw-cms-preview-tweakwise-cross-selling__product-box">\n            <sw-cms-product-box-preview />\n            <sw-cms-product-box-preview />\n        </div>\n        <sw-icon\n                name="regular-chevron-right"\n                size="20"\n        />\n    </div>\n{% endblock %}\n'}),Shopware.Service("cmsService").registerCmsBlock({name:"tweakwise-cross-selling",category:"tweakwise",label:"Cross selling",component:"sw-cms-block-tweakwise-cross-selling",previewComponent:"sw-cms-preview-tweakwise-cross-selling",defaultConfig:{marginBottom:"0",marginTop:"0",marginLeft:"0",marginRight:"0",sizingMode:"boxed"},slots:{products:"tweakwise-cross-selling"}});Shopware.Component.register("sw-cms-block-tweakwise-featured-products",{template:'{% block sw_cms_block_tweakwise_featured_products %}\n    <div class="sw-cms-block-tweakwise-featured-products">\n        <slot name="products">{% block sw_cms_block_tweakwise_featured_products_products %}{% endblock %}</slot>\n    </div>\n{% endblock %}\n'});n("Bnbb");Shopware.Component.register("sw-cms-preview-tweakwise-featured-products",{template:'{% block sw_cms_block_tweakwise_featured_products_preview %}\n    <div class="sw-cms-preview-tweakwise-featured-products">\n        <sw-icon\n                name="regular-chevron-left"\n                size="20"\n        />\n        <div class="sw-cms-preview-tweakwise-featured-products__product-box">\n            <sw-cms-product-box-preview />\n            <sw-cms-product-box-preview />\n        </div>\n        <sw-icon\n                name="regular-chevron-right"\n                size="20"\n        />\n    </div>\n{% endblock %}\n'}),Shopware.Service("cmsService").registerCmsBlock({name:"tweakwise-featured-products",category:"tweakwise",label:"Featured products",component:"sw-cms-block-tweakwise-featured-products",previewComponent:"sw-cms-preview-tweakwise-featured-products",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"20px",marginRight:"20px",sizingMode:"boxed"},slots:{products:"tweakwise-featured-products"}});Shopware.Component.override("sw-cms-el-config-product-listing",{template:"{% block sw_cms_element_product_listing_config_layout_select_options %}\n    {% parent %}\n    <option value=\"tweakwise\">\n        {{ $tc('sw-cms.elements.productBox.config.label.layoutTypeTweakwise') }}\n    </option>\n{% endblock %}\n"});n("wgCq");var r=Shopware.Mixin;Shopware.Component.register("sw-cms-el-tweakwise-cross-selling",{template:'{% block sw_cms_element_tweakwise_cross_selling %}\n    <div class="sw-cms-el-tweakwise-cross-selling">\n        <h2 class="sw-cms-el-tweakwise-cross-selling__title">{{ placeholder(tweakwiseCrossSelling, \'name\', tweakwiseCrossSelling.name) }}</h2>\n        <div class="sw-cms-el-tweakwise-cross-selling__content">\n            <div class="sw-cms-el-tweakwise-cross-selling__navigation">\n                <sw-icon\n                        class="sw-cms-el-tweakwise-cross-selling__navigation-button"\n                        name="regular-chevron-left"\n                        size="24"\n                />\n            </div>\n\n            <div\n                    ref="productHolder"\n                    class="sw-cms-el-cross-selling__product-holder"\n                    :style="sliderBoxMinWidth"\n            >\n                <sw-cms-el-product-box\n                        v-for="index in 4"\n                        :key="index"\n                        :element="demoProductElement"\n                />\n            </div>\n\n            <div class="sw-cms-el-tweakwise-cross-selling__navigation">\n                <sw-icon\n                        class="sw-cms-el-tweakwise-cross-selling__navigation-button"\n                        name="regular-chevron-right"\n                        size="24"\n                />\n            </div>\n        </div>\n    </div>\n{% endblock %}\n',mixins:[r.getByName("cms-element"),r.getByName("placeholder")],computed:{demoProductElement:function(){return{config:{boxLayout:{source:"static",value:"standard"},displayMode:{source:"static",value:"standard"},elMinWidth:{source:"static",value:"200px"}}}},sliderBoxMinWidth:function(){return"repeat(auto-fit, minmax(200px, 1fr))"},tweakwiseCrossSelling:function(){return{name:"Tweakwise Cross Selling"}}}});n("Pt1+");Shopware.Component.register("sw-cms-el-preview-tweakwise-cross-selling",{template:'{% block sw_cms_element_tweakwise_featured_products_preview %}\n    <div class="sw-cms-el-preview-tweakwise-cross-selling">\n        <sw-icon\n                name="regular-chevron-left"\n                size="10"\n        />\n        <sw-cms-product-box-preview :has-text="false" />\n        <sw-icon\n                name="regular-chevron-right"\n                size="10"\n        />\n    </div>\n{% endblock %}\n'});Shopware.Component.register("sw-cms-el-config-tweakwise-cross-selling",{template:'{% block sw_cms_element_dailymotion_config %}\n    <sw-text-field\n            v-model="groupKey"\n            class="swag-groupkey-field"\n            :label="$tc(\'sw-cms.elements.tweakwiseCrossSelling.config.groupKey.label\')"\n            :help-text="$tc(\'sw-cms.elements.tweakwiseCrossSelling.config.groupKey.helpText\')"\n            required\n            :placeholder="$tc(\'sw-cms.elements.tweakwiseCrossSelling.config.groupKey.placeHolder\')"\n            @input="onElementUpdate"\n            @change="onElementUpdate"\n            @update:value="onElementUpdate">\n    </sw-text-field>\n{% endblock %}\n',mixins:["cms-element"],computed:{groupKey:{get:function(){return this.element.config.groupKey.value},set:function(e){this.element.config.groupKey.value=e}}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.initElementConfig("tweakwise-cross-selling")},onElementUpdate:function(e){this.element.config.groupKey.value=e,this.$emit("element-update",this.element)}}}),Shopware.Service("cmsService").registerCmsElement({name:"tweakwise-cross-selling",label:"sw-cms.elements.tweakwiseFeaturedProducts.label",component:"sw-cms-el-tweakwise-cross-selling",configComponent:"sw-cms-el-config-tweakwise-cross-selling",previewComponent:"sw-cms-el-preview-tweakwise-cross-selling",defaultConfig:{groupKey:{required:!0,source:"static",value:""}}});n("CY1B");Shopware.Component.register("sw-cms-el-tweakwise-featured-products",{template:'{% block sw_cms_element_tweakwise_featured_products %}\n    <div class="sw-cms-el-tweakwise-featured-products">\n        <sw-icon\n                name="regular-chevron-left"\n                size="10"\n        />\n        <sw-cms-product-box-preview />\n        <sw-cms-product-box-preview />\n        <sw-cms-product-box-preview />\n        <sw-cms-product-box-preview />\n        <sw-icon\n                name="regular-chevron-right"\n                size="10"\n        />\n    </div>\n{% endblock %}\n'});n("qnKl");Shopware.Component.register("sw-cms-el-preview-tweakwise-featured-products",{template:'{% block sw_cms_element_tweakwise_featured_products_preview %}\n    <div class="sw-cms-el-preview-tweakwise-featured-products">\n        <sw-icon\n                name="regular-chevron-left"\n                size="10"\n        />\n        <sw-cms-product-box-preview :has-text="false" />\n        <sw-icon\n                name="regular-chevron-right"\n                size="10"\n        />\n    </div>\n{% endblock %}\n'});Shopware.Component.register("sw-cms-el-config-tweakwise-featured-products",{template:'{% block sw_cms_element_dailymotion_config %}\n    <sw-text-field\n            v-model="groupId"\n            class="swag-groupid-field"\n            :label="$tc(\'sw-cms.elements.tweakwiseFeaturedProducts.config.groupId.label\')"\n            :help-text="$tc(\'sw-cms.elements.tweakwiseFeaturedProducts.config.groupId.helpText\')"\n            required\n            :placeholder="$tc(\'sw-cms.elements.tweakwiseFeaturedProducts.config.groupId.placeHolder\')"\n            @input="onElementUpdate"\n            @change="onElementUpdate"\n            @update:value="onElementUpdate">\n    </sw-text-field>\n{% endblock %}\n',mixins:["cms-element"],computed:{groupId:{get:function(){return this.element.config.groupId.value},set:function(e){this.element.config.groupId.value=e}}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.initElementConfig("tweakwise-featured-products")},onElementUpdate:function(e){this.element.config.groupId.value=e,this.$emit("element-update",this.element)}}}),Shopware.Service("cmsService").registerCmsElement({name:"tweakwise-featured-products",label:"sw-cms.elements.tweakwiseFeaturedProducts.label",component:"sw-cms-el-tweakwise-featured-products",configComponent:"sw-cms-el-config-tweakwise-featured-products",previewComponent:"sw-cms-el-preview-tweakwise-featured-products",defaultConfig:{groupId:{required:!0,source:"static",value:""}}});function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new O(i||[]);return r(a,"_invoke",{value:x(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function w(){}function m(){}var g={};u(g,s,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(I([])));y&&y!==t&&n.call(y,s)&&(g=y);var b=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,a,s,c){var l=p(e[r],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,c)}),(function(e){o("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return o("throw",e,s,c)}))}c(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return w.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:w,configurable:!0}),w.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(_.prototype),u(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(b),u(b,l,"Generator"),u(b,s,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function a(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var s=Shopware.Data.Criteria;Shopware.Component.override("sw-product-detail",{template:"{% block sw_product_detail_content_tabs_reviews %}\n    {% parent %}\n    <sw-tabs-item v-if=\"hasEnabledFrontends\" :route=\"{ name: 'sw.product.detail.tweakwise', params: { id: $route.params.id } }\" :title=\"$tc('sw-product.detail.tab.title') \">\n        {{ $tc('sw-product.detail.tab.title') }}\n    </sw-tabs-item>\n{% endblock %}",inject:["repositoryFactory","feature","acl"],data:function(){return{frontendCount:0,isLoadingFrontends:!1}},computed:{twFeedRepository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_frontend")},hasEnabledFrontends:function(){return this.frontendCount>0}},methods:{createdComponent:function(){var e,t=this;return(e=o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$super("createdComponent"),t.isLoadingFrontends=!0,e.prev=2,(n=new s(1,1)).addFilter(s.equals("backendSyncEnabled",!0)),e.next=7,t.twFeedRepository.search(n,Shopware.Context.api);case 7:r=e.sent,t.frontendCount=r.total;case 9:return e.prev=9,t.isLoadingFrontends=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[2,,9,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,c,"next",e)}function c(e){a(o,r,i,s,c,"throw",e)}s(void 0)}))})()}}});n("Tmvc");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new O(i||[]);return r(a,"_invoke",{value:x(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function w(){}function m(){}var g={};u(g,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(I([])));y&&y!==t&&n.call(y,o)&&(g=y);var b=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,o,a,s){var l=p(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return w.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:w,configurable:!0}),w.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function u(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}var p=Shopware,f=p.Component,h=p.Mixin,w=(p.Context,Shopware.Data),m=(w.EntityCollection,w.Criteria);f.register("sw-product-detail-tweakwise",{template:'<div :isLoading="isLoading" class="tweakwise-sync">\n    <sw-container v-if="product && product.childCount">\n        <mt-banner\n                variant="attention"\n                class="sw-bulk-edit-save-modal__warning"\n        >\n            {{ $tc(\'sw-product.detail.tab.variants\') }}\n        </mt-banner>\n\n    </sw-container>\n\n\n    <template v-for="frontend in frontends">\n        <sw-card :title="frontend.name" v-if="frontend.accessToken && frontend.backendSyncEnabled">\n            <sw-container\n                    columns="1fr 1fr"\n                    gap="10px 30px"\n            >\n                <div>\n                    {{ $tc(\'sw-product.detail.tab.productId\') }}\n                </div>\n                <div>\n                    {{ productId[frontend.id] }}\n                </div>\n                <div>\n                    {{ $tc(\'sw-product.detail.tab.available\') }}\n                </div>\n                <div>\n                    <span v-if="availability[frontend.id]">{{ $tc(\'sw-product.detail.tab.availableYes\') }}</span>\n                    <span v-else>{{ $tc(\'sw-product.detail.tab.availableNo\') }}</span>\n                </div>\n                <div v-if="availability[frontend.id]">\n                    {{ $tc(\'sw-product.detail.tab.lastModified\') }}\n                </div>\n                <div v-if="availability[frontend.id]">\n                    <sw-time-ago\n                            :date="new Date(tweakwiseData[frontend.id].LastModified)"\n                            :date-time-format="{ month: \'2-digit\', day: \'2-digit\' }"\n                    />\n                </div>\n                <div>\n                    <sw-button\n                            :isLoading="isLoading"\n                            size="small"\n                            variant="primary"\n                            @click="onSync(frontend.id, productId[frontend.id])"\n                    >\n                        {{ $tc(\'sw-product.detail.tab.sync\') }}\n                    </sw-button>\n                </div>\n            </sw-container>\n\n        </sw-card>\n        <sw-card :title="frontend.name" v-if="!frontend.accessToken">\n            <mt-banner\n                    variant="attention"\n                    class="sw-bulk-edit-save-modal__warning"\n            >\n                {{ $tc(\'sw-product.detail.tab.noAccessToken\') }}\n            </mt-banner>\n        </sw-card>\n    </template>\n</div>\n',namespaced:!0,inject:["repositoryFactory","feature","acl"],mixins:[h.getByName("notification")],data:function(){return{frontends:null,availability:[],tweakwiseData:[],productId:[],product:null,backendSyncOptions:[],isLoading:!1}},created:function(){this.createdComponent()},computed:{twFeedRepository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_frontend")}},methods:{createdComponent:function(){this.isLoading=!0,this.getData(),this.isLoading=!1},getData:function(){var e=this;return d(l().mark((function t(){var n,r,i,o,a,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new m(e.page,e.limit,e.term),r=Shopware.Application.getContainer("init").httpClient,t.next=4,e.twFeedRepository.search(n,Shopware.Context.api);case 4:return i=t.sent,e.frontends=i,o=Shopware.Service("loginService").getToken(),a={headers:{Authorization:"Bearer ".concat(o)}},s=i.map((function(t){var n="/_action/rhae-tweakwise/check-data/".concat(t.id,"/").concat(e.$route.params.id);return r.get(n,a)})),t.next=11,Promise.all(s);case 11:return t.sent.forEach((function(t){t.data.error?e.availability[t.data.frontendId]=!1:(e.availability[t.data.frontendId]=!0,e.tweakwiseData[t.data.frontendId]=t.data.productData),e.productId[t.data.frontendId]=t.data.productId,e.product=t.data.product})),t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t)})))()},onSync:function(e,t){var n=this;return d(l().mark((function t(){var r,i,o,a,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.isLoading=!0,r=Shopware.Service("loginService").getToken(),i={headers:{Authorization:"Bearer ".concat(r)}},o=Shopware.Application.getContainer("init").httpClient,a="/_action/rhae-tweakwise/sync-data/".concat(e,"/").concat(n.$route.params.id),t.next=7,o.get(a,i);case 7:if(200!==(s=t.sent).status||!s.data.updated){t.next=14;break}return n.createNotificationSuccess({title:n.$tc("sw-product.detail.tab.syncSuccessTitle"),message:n.$tc("sw-product.detail.tab.syncSuccessMessage")}),t.next=12,n.getData();case 12:t.next=16;break;case 14:n.createNotificationWarning({title:n.$tc("sw-product.detail.tab.syncFailedTitle"),message:n.$tc("sw-product.detail.tab.syncFailedMessage")}),console.warn(s);case 16:n.isLoading=!1;case 17:case"end":return t.stop()}}),t)})))()}}});Shopware.Data.Criteria;var g=Shopware,v=g.Component,y=(g.Context,v.getComponentHelper());y.mapPropertyErrors,y.mapGetters,y.mapState;Shopware.Component.override("sw-product-cross-selling-form",{template:'{% block sw_prduct_cross_selling_form_product_stream_field %}\n<div v-if="!useTweakwise">\n    {% parent %}\n</div>\n\n    <div v-if="useTweakwise">\n        <sw-text-field\n            v-model:value="crossSelling.extensions.tweakwise.groupKey"\n            :label="$tc(\'sw-product.crossselling.tweakwiseGroupKey\')"\n            required\n            validation="required"\n            placeholder="Default is sw-cross-sell"\n            :disabled="!allowEdit"\n        />\n    </div>\n{% endblock %}\n\n{% block sw_prduct_cross_selling_form_sort_field %}\n    <div v-if="!useTweakwise">\n        {% parent %}\n    </div>\n{% endblock %}\n\n{% block sw_prduct_cross_selling_form_limit_field %}\n    <div v-if="!useTweakwise">\n        {% parent %}\n    </div>\n{% endblock %}\n\n{% block sw_prduct_cross_selling_form_preview_link %}\n    <div v-if="!useTweakwise">\n        {% parent %}\n    </div>\n{% endblock %}\n',created:function(){this.crossSelling.extensions.tweakwise||(this.crossSelling.extensions.tweakwise=this.repositoryFactory.create("product_cross_selling_tweakwise").create(Shopware.Context.api))},computed:{crossSellingTypes:function(){return[{label:this.$tc("sw-product.crossselling.tweakwiseType"),value:"tweakwiseRecommendation"},{label:this.$tc("sw-product.crossselling.productStreamType"),value:"productStream"},{label:this.$tc("sw-product.crossselling.productListType"),value:"productList"}]}},data:function(){return{showDeleteModal:!1,showModalPreview:!1,productStream:null,productStreamFilter:[],productStreamFilterTree:null,optionSearchTerm:"",useManualAssignment:!1,useTweakwise:!1,sortBy:"name",sortDirection:"ASC",assignmentKey:0}},watch:{"crossSelling.productStreamId":function(){this.useManualAssignment||this.useTweakwise||this.loadStreamPreview()}},methods:{createdComponent:function(){this.useManualAssignment="productList"===this.crossSelling.type,this.useTweakwise="tweakwiseRecommendation"===this.crossSelling.type},onTypeChanged:function(e){this.useManualAssignment="productList"===e,this.useTweakwise="tweakwiseRecommendation"===e}}});Shopware.Component.override("sw-product-variants-delivery-listing",{template:'{% block sw_product_variants_delivery_listing_config_single_main_variant_explanation %}\n    {% parent %}\n\n<sw-alert\n        variant="warning"\n        :title="$tc(\'sw-product.listing.warningTitle\')"\n        :closable="false"\n        style="margin-top: 1rem;"\n        v-if="!isDisabledListingMode(\'single\')"\n>\n    {{ $tc(\'sw-product.listing.warning\') }}\n</sw-alert>\n{% endblock %}\n\n{% block sw_product_variants_delivery_listing_config_expanded_group_list %}\n    {% parent %}\n\n<sw-alert\n        variant="warning"\n        :title="$tc(\'sw-product.listing.warningTitle\')"\n        :closable="false"\n        style="margin-top: 1rem;"\n        v-if="!isDisabledListingMode(\'expanded\')"\n>\n    {{ $tc(\'sw-product.listing.warning\') }}\n</sw-alert>\n{% endblock %}\n'}),Shopware.Module.register("sw-new-tab-tweakwise",{routeMiddleware:function(e,t){var n="sw.product.detail.tweakwise";"sw.product.detail"===t.name&&t.children.every((function(e){return e.name!==n}))&&t.children.push({name:n,path:"/sw/product/detail/:id/tweakwise",component:"sw-product-detail-tweakwise",meta:{parentPath:"sw.product.index"}}),e(t)}});function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){k=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new O(i||[]);return r(a,"_invoke",{value:x(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function f(){}function h(){}var w={};c(w,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(I([])));g&&g!==t&&n.call(g,o)&&(w=g);var v=h.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==b(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(_.prototype),c(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function _(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=Shopware,O=L.Component,I=L.Mixin,j=L.Context,T=Shopware.Data.Criteria;O.register("rhae-tweakwise-feed-list",{template:'<sw-page class="rhae-tweakwise-feed-list">\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc(\'rhae-tweakwise-feed.main.menuLabel\') }}\n        </h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button variant="primary" :routerLink="{ name: \'rhae.tweakwise.feed.create\' }">\n            {{ $tc(\'rhae-tweakwise-feed.list.addButtonText\') }}\n        </sw-button>\n    </template>\n\n    <template #content>\n        <sw-entity-listing\n            v-if="items"\n            :items="items"\n            :repository="repository"\n            :showSelection="true"\n            :columns="columns"\n            detailRoute="rhae.tweakwise.feed.detail"\n            @select-item="updateSelection"\n            @update-records="updateTotal">\n            <template #column-type="{ item }">\n                {{ $tc(\'rhae-tweakwise-feed.detail.label.typeOptions.\' + item.type) }}\n            </template>\n            <template #column-domains="{ item }">\n                <template v-for="(domain, index) in item.salesChannelDomains">{{ domain.url }}<span v-if="index < (item.salesChannelDomains.length - 1)"><br></span></template>\n            </template>\n            <template #column-lastGeneratedAt="{ item }">\n                <sw-time-ago :date="item.lastGeneratedAt" />\n            </template>\n        </sw-entity-listing>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","numberRangeService","context"],mixins:[I.getByName("notification"),I.getByName("listing")],data:function(){return{items:null,sortBy:"name"}},metaInfo:function(){return{title:this.$createTitle()}},computed:{repository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_feed")},searchContext:function(){return S(S({},j.api),{},{inheritance:!0})},columns:function(){return[{property:"name",dataIndex:"name",label:this.$t("rhae-tweakwise-feed.list.columns.name"),routerLink:"rhae.tweakwise.feed.detail",inlineEdit:"string",allowResize:!0,primary:!0},{property:"type",dataIndex:"type",label:this.$t("rhae-tweakwise-feed.list.columns.type"),inlineEdit:"string"},{property:"domains",dataIndex:"domains",label:this.$t("rhae-tweakwise-feed.list.columns.domains")},{property:"lastGeneratedAt",dataIndex:"lastGeneratedAt",label:this.$t("rhae-tweakwise-feed.list.columns.lastGeneratedAt")}]}},methods:{getList:function(){var e,t=this;return(e=k().mark((function e(){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new T(t.page,t.limit,t.term)).addAssociation("salesChannelDomains"),t.isLoading=!0,e.prev=3,e.next=6,t.repository.search(n,Shopware.Context.api);case 6:r=e.sent,t.total=r.total,t.isLoading=!1,t.items=r,t.selection={},e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),t.isLoading=!1;case 16:case"end":return e.stop()}}),e,null,[[3,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_(o,r,i,a,s,"next",e)}function s(e){_(o,r,i,a,s,"throw",e)}a(void 0)}))})()},changeLanguage:function(){this.getList()},updateSelection:function(){},updateTotal:function(e){var t=e.total;this.total=t},onDuplicate:function(e){var t=this;this.repository.clone(e.id,Shopware.Context.api,{name:"".concat(e.name," ").concat(this.$tc("sw-product.general.copy")),locked:!1}).then((function(e){t.$router.push({name:"rhae.tweakwise.feed.detail",params:{id:e.id}})}))}},created:function(){}});var E='{% block sw_tweakwise_feed_detail %}\n<sw-page class="rhae-tweakwise-feed-detail">\n    <template #smart-bar-actions>\n        {% block sw_tweakwise_feed_detail_actions %}\n            {% block sw_tweakwise_feed_detail_actions_refresh %}\n            <sw-button @click="getItem" square>\n                <sw-icon name="regular-undo" small />\n            </sw-button>\n            {% endblock %}\n\n            {% block sw_tweakwise_feed_detail_actions_cancel %}\n            <sw-button :routerLink="{ name: \'rhae.tweakwise.feed.list\' }">\n                {{ $t(\'rhae-tweakwise-feed.detail.cancelButtonText\') }}\n            </sw-button>\n            {% endblock %}\n\n            {% block sw_tweakwise_feed_detail_actions_save %}\n            <sw-button-process\n                    :isLoading="isLoading"\n                    :processSuccess="processSuccess.general"\n                    variant="primary"\n                    @process-finish="saveFinish"\n                    @click="onClickSave">\n                {{ $t(\'rhae-tweakwise-feed.detail.saveButtonText\') }}\n            </sw-button-process>\n            {% endblock %}\n        {% endblock %}\n    </template>\n\n    <template #content>\n        {% block sw_tweakwise_feed_detail_content %}\n        <sw-card-view>\n            {% block sw_tweakwise_feed_detail_content_main %}\n            <sw-card v-if="item" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-feed.detail.section.main\')">\n                <sw-card-section v-if="item.salesChannelDomains[0]" divider="bottom">\n                    <sw-container columns="1fr" gap="30px" style="margin-bottom: 1rem;">\n                        {% block sw_tweakwise_feed_detail_content_main_url %}\n                        <div>\n                            <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                {{ $t(\'rhae-tweakwise-feed.detail.label.feedUrl\') }}\n                            </p>\n\n                            <p>\n                                {{ item.salesChannelDomains[0].url }}/tweakwise/feed-{{item.id}}.xml\n                                <sw-button\n                                    size="small"\n                                    square\n                                    style="margin-left: 0.5rem;"\n                                    @click="copyLinkToClipboard"\n                                    @keydown.enter="copyLinkToClipboard"\n                                >\n                                    <sw-icon\n                                            small\n                                            name="regular-copy"\n                                    />\n                                </sw-button>\n                            </p>\n                        </div>\n                        {% endblock %}\n                    </sw-container>\n                    <sw-container\n                        class="rhae-tweakwise-feed__card-toolbar"\n                        columns="repeat(3, 1fr)"\n                    >\n                        {% block sw_tweakwise_feed_detail_content_main_last_generated %}\n                            <div>\n                                <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                    {{ $t(\'rhae-tweakwise-feed.detail.label.lastGeneratedAt\') }}\n                                </p>\n                                <p v-if="item.lastGeneratedAt"><sw-time-ago :date="item.lastGeneratedAt" :key="item.lastGeneratedAt" /></p>\n                                <p v-else>-</p>\n                            </div>\n                        {% endblock %}\n                        {% block sw_tweakwise_feed_detail_content_main_next_generation %}\n                            <div>\n                                <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                    {{ $t(\'rhae-tweakwise-feed.detail.label.nextGenerationAt\') }}\n                                </p>\n                                <p v-if="item.nextGenerationAt">{{ dateFilter(item.nextGenerationAt, { hour: \'2-digit\', minute: \'2-digit\' }) }}</p>\n                                <p v-else>{{ $t(\'rhae-tweakwise-feed.detail.label.withinOneMinute\') }}</p>\n                                <sw-button size="small" style="margin-top: 1rem;" @click="generateFeedNow" :isLoading="isLoading">\n                                    {{ $t(\'rhae-tweakwise-feed.detail.label.generateNow\') }}\n                                </sw-button>\n                            </div>\n                        {% endblock %}\n                        {% block sw_tweakwise_feed_detail_content_main_status %}\n                            <div>\n                                <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                    {{ $t(\'rhae-tweakwise-feed.detail.label.status\') }}\n                                </p>\n                                <p>{{ $tc(`rhae-tweakwise-feed.detail.label.statusOption.${item.status}`) }}</p>\n                            </div>\n                        {% endblock %}\n                    </sw-container>\n\n                </sw-card-section>\n\n                <sw-card-section>\n                    {% block sw_tweakwise_feed_detail_content_main_type %}\n                    <sw-select-field :label="$t(\'rhae-tweakwise-feed.detail.label.type\')"\n                                     v-model:value="item.type">\n                        <option v-for="value in [\'full\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-feed.detail.label.typeOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n                    {% endblock %}\n\n\n                    {% block sw_tweakwise_feed_detail_content_main_name %}\n                    <sw-text-field :label="$t(\'rhae-tweakwise-feed.detail.label.name\')"\n                              v-model:value="item.name"\n                              required validation="required" ></sw-text-field>\n                    {% endblock %}\n\n                    {% block sw_tweakwise_feed_detail_content_main_domains %}\n                    <sw-entity-multi-select\n                        :label="$t(\'rhae-tweakwise-feed.detail.label.salesChannelDomains\')"\n                        labelProperty="url"\n                        value-property="id"\n                        v-model:entityCollection="item.salesChannelDomains"\n                    />\n                    {% endblock %}\n\n                    {% block sw_tweakwise_feed_detail_content_main_interval %}\n                    <sw-text-field :label="$t(\'rhae-tweakwise-feed.detail.label.interval\')"\n                              v-model:value="item.interval"\n                              required validation="required"></sw-text-field>\n                    {% endblock %}\n\n                    {% block sw_tweakwise_feed_detail_content_main_import_task_url %}\n                    <sw-text-field :label="$t(\'rhae-tweakwise-feed.detail.label.importTaskUrl\')"\n                              v-model:value="item.importTaskUrl"></sw-text-field>\n                    {% endblock %}\n\n                </sw-card-section>\n            </sw-card>\n            {% endblock %}\n\n            {% block sw_tweakwise_feed_detail_content_settings_full %}\n            <sw-card v-if="item && item.type === \'full\'" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-feed.detail.section.data\')">\n                <sw-card-section>\n                    <sw-container\n                            columns="repeat(2, 1fr)"\n                    >\n                        <div>\n                            {% block sw_tweakwise_feed_detail_content_settings_full_include_hidden_categories %}\n                                <sw-checkbox-field\n                                        v-model:value="item.includeHiddenCategories"\n                                        :label="$t(\'rhae-tweakwise-feed.detail.label.includeHiddenCategories\')"\n                                        @update:value="onChangeToggle($event, \'includeHiddenCategories\')"\n                                />\n                            {% endblock %}\n\n                            {% block sw_tweakwise_feed_detail_content_settings_full_grouped_products %}\n                                <sw-checkbox-field\n                                        v-model:value="item.groupedProducts"\n                                        :label="$t(\'rhae-tweakwise-feed.detail.label.groupedProducts\')"\n                                        @update:value="onChangeToggle($event, \'groupedProducts\')"\n                                />\n                            {% endblock %}\n                        </div>\n\n                        <div>\n                            {% block sw_tweakwise_feed_detail_content_settings_full_include_custom_fields %}\n                                <sw-checkbox-field\n                                        v-model:value="item.includeCustomFields"\n                                        :label="$t(\'rhae-tweakwise-feed.detail.label.includeCustomFields\')"\n                                        @update:value="onChangeToggle($event, \'includeCustomFields\')"\n                                />\n                            {% endblock %}\n                            {% block sw_tweakwise_feed_detail_content_settings_full_respect_hide_closeoutproducts_out_of_stock %}\n                                <sw-checkbox-field\n                                        v-model:value="item.respectHideCloseoutProductsWhenOutOfStock"\n                                        :label="$t(\'rhae-tweakwise-feed.detail.label.respectHideCloseoutProductsWhenOutOfStock\')"\n                                        @update:value="onChangeToggle($event, \'respectHideCloseoutProductsWhenOutOfStock\')"\n                                />\n                            {% endblock %}\n                        </div>\n                    </sw-container>\n                </sw-card-section>\n            </sw-card>\n            {% endblock %}\n\n            {% block sw_tweakwise_feed_detail_advanced %}\n            <sw-card class="card-advanced" v-if="item && item.type === \'full\'" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-feed.detail.section.advanced\')">\n                <sw-card-section>\n                    {% block sw_tweakwise_feed_detail_advanced_limit %}\n                        <p style="margin-bottom: 1rem;">{{ $t(\'rhae-tweakwise-feed.detail.info.limit\') }}</p>\n                        <sw-select-field :label="$t(\'rhae-tweakwise-feed.detail.label.limit\')"\n                                         v-model:value="item.limit">\n                            <option v-for="value in [\'1\', \'10\', \'25\', \'50\', \'100\', \'250\']" :value="value">\n                                {{ value }}\n                            </option>\n                        </sw-select-field>\n                    {% endblock %}\n\n                </sw-card-section>\n            </sw-card>\n            {% endblock %}\n        </sw-card-view>\n        {% endblock %}\n    </template>\n\n</sw-page>\n{% endblock %}\n';Shopware.Component.extend("rhae-tweakwise-feed-create","rhae-tweakwise-feed-detail",{template:E,methods:{getItem:function(){this.item=this.repository.create(Shopware.Context.api),this.item.includeHiddenCategories=!1,this.item.limit=10,this.isLoading=!1},onClickSave:function(){var e=this;this.isLoading=!0,this.repository.save(this.item,Shopware.Context.api).then((function(){e.isLoading=!1,e.$router.push({name:"rhae.tweakwise.feed.detail",params:{id:e.item.id}})})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$tc("rhae-tweakwise.notification.errorTitle"),message:t})}))}}});n("vp98");function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){A=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function f(){}function h(){}var w={};c(w,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(L([])));g&&g!==t&&n.call(g,o)&&(w=g);var v=h.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==P(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function N(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=Shopware,F=$.Component,z=$.Mixin,B=$.Context,Z=$.Utils,R=Shopware.Data,W=R.EntityCollection,Y=R.Criteria,U=(Shopware.Component.getComponentHelper().mapPropertyErrors,Z.dom);Z.format;F.register("rhae-tweakwise-feed-detail",{template:E,inject:["repositoryFactory","context"],mixins:[z.getByName("notification")],metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{item:null,salesChannelDomains:null,isLoading:!1,salesChannelDomainIds:[],processes:{generateFeed:!1},processSuccess:{general:!1,generateFeed:!1}}},computed:{repository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_feed")},salesChannelDomainRepository:function(){return this.repositoryFactory.create("sales_channel_domain")},salesChannelDomainIds:{get:function(){return this.salesChannelDomainIds||[]},set:function(e){this.salesChannelDomainIds=M(M({},this.salesChannelDomainIds),{},{salesChannelDomainIds:e})}},dateFilter:function(){return Shopware.Filter.getByName("date")},defaultCriteria:function(){return new Y}},created:function(){this.getItem(),this.getSalesChannelDomains()},methods:{getSalesChannelDomains:function(){this.salesChannelDomains=new W(this.salesChannelDomainRepository.route,this.salesChannelDomainRepository.entityName,B.api)},getFeedUrl:function(){return this.item.salesChannelDomains[0].url+"/tweakwise/feed-"+this.item.id+".xml"},resetButtons:function(){this.processSuccess={general:!1,generateFeed:!1}},generateFeedNow:function(){var e=this;this.isLoading=!0,this.item.nextGenerationAt=null,this.repository.save(this.item,B.api).then((function(){e.getItem(),e.isLoading=!1,e.processSuccess=!0})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:"Unknown error",message:t})}))},getItem:function(){var e=this,t=new Y;t.addAssociation("salesChannelDomains"),this.repository.get(this.$route.params.id,B.api,t).then((function(t){e.item=t}))},onChangeValue:function(e,t){this.item[t]=e,this.$emit("change-value",t,e)},onChangeToggle:function(e,t){this.onChangeValue(e,t,!1)},convert:function(e,t){console.log(e)},onChangeToggleRevert:function(e,t){console.log(e),this.onChangeValue(e,t,!1)},onClickSave:function(){var e=this;this.isLoading=!0,this.repository.save(this.item,B.api).then((function(){e.getItem(),e.isLoading=!1,e.processSuccess=!0})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$tc("rhae-tweakwise-feed.notification.errorTitle"),message:t})}))},setSalesChannelDomains:function(e){this.salesChannelDomains=e,this.item.salesChannelDomains=e},saveFinish:function(){this.processSuccess=!1},copyLinkToClipboard:function(){var e,t=this;return(e=A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.item){e.next=10;break}return e.prev=1,e.next=4,U.copyStringToClipboard(t.getFeedUrl());case 4:t.createNotificationSuccess({message:t.$tc("sw-media.general.notification.urlCopied.message")}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.createNotificationError({title:t.$tc("global.default.error"),message:t.$tc("global.sw-field.notification.notificationCopyFailureMessage")});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){N(o,r,i,a,s,"next",e)}function s(e){N(o,r,i,a,s,"throw",e)}a(void 0)}))})()}}});n("1X/h");Shopware.Component.register("rhae-tweakwise-settings-icon",{template:'{% block rhae_tweakwise_settings_icon %}\n    <div class="rhae-tweakwise-settings-icon">\n        <img height="30" width="30" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgaWQ9IlR3ZWFrd2lzZV93aXQiCiAgIHZpZXdCb3g9IjAgMCAzOTQuMjcyIDQxOS43NTM2IgogICB2ZXJzaW9uPSIxLjEiCiAgIHNvZGlwb2RpOmRvY25hbWU9InR3ZWFrd2lzZS1sZXR0ZXItd2l0LnN2ZyIKICAgd2lkdGg9IjM5NC4yNzIiCiAgIGhlaWdodD0iNDE5Ljc1MzYiCiAgIGlua3NjYXBlOnZlcnNpb249IjEuMC4yIChlODZjODcwOCwgMjAyMS0wMS0xNSkiPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTg5NCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGRlZnMKICAgICBpZD0iZGVmczg5MiIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE3OTIiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAwNyIKICAgICBpZD0ibmFtZWR2aWV3ODkwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBmaXQtbWFyZ2luLXRvcD0iMCIKICAgICBmaXQtbWFyZ2luLWxlZnQ9IjAiCiAgICAgZml0LW1hcmdpbi1yaWdodD0iMCIKICAgICBmaXQtbWFyZ2luLWJvdHRvbT0iMCIKICAgICBpbmtzY2FwZTp6b29tPSIwLjY2NzI4Njc2IgogICAgIGlua3NjYXBlOmN4PSI3MjEuNTU5NSIKICAgICBpbmtzY2FwZTpjeT0iMjM4LjUyNzM0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyNSIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIwIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9IlR3ZWFrd2lzZV93aXQiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtcm90YXRpb249IjAiIC8+CiAgPHBhdGgKICAgICBkPSJNIDI0MS44MTUwOSwzMzYuODEzMjYgViA5MS40MjU0NjQgaCA1MC45ODg1IGMgNS4yNDI0LDAgNi42NzcsLTEuNjU4OCA3LjYzMDgsMy4xMTg5IGwgNy42MzA5LDM5LjM1MDI5NiBoIDUyLjY2MzUgViA0MC40NjIzNjQgSCA0Ni40NTY3ODggdiA5My40MzIxOTYgaCA1OC45MTgzMDIgbCA3LjYzMDksLTM5LjM1MDI5NiBjIDAuOTQ1MywtNC43Nzc4IDIuMzgwOCwtMy4xMTg5IDcuNjMwOCwtMy4xMTg5IGggNDQuNzMzNyBWIDMzNi44MTMyNiBjIDAsNy4xNTc4IDEuOTQwOCw5LjA2NTUgLTQuNzM2Miw5LjUzODYgbCAtNDYuMjI2OCwzLjM0MzIgdiAzMC41MjA5IGggMTg2Ljg2NDUgdiAtMzAuNTIwOSBsIC01Mi4xNDEyLC0zLjgxNjMgYyAtNy4xNTc4LC0wLjQ4MDggLTcuMzE1NywtMi4zOCAtNy4zMTU3LC05LjA2NTUgeiIKICAgICBmaWxsPSIjZmZmZmZmIgogICAgIGlkPSJwYXRoODMzIgogICAgIHN0eWxlPSJmaWxsOiNmZmZmZmYiIC8+Cjwvc3ZnPgo=" alt="Tweakwise logo" />\n    </div>\n{% endblock %}\n'});var H=n("9poW"),K=n("M0cx");Shopware.Module.register("rhae-tweakwise-feed",{type:"plugin",name:"Tweakwise Feed",title:"rhae-tweakwise-feed.main.menuLabel",description:"rhae-tweakwise-feed.main.menuDescription",color:"#01b7cd",snippets:{"nl-NL":H,"en-GB":K},routes:{list:{component:"rhae-tweakwise-feed-list",path:"list",meta:{parentPath:"sw.settings.index.plugins"}},detail:{component:"rhae-tweakwise-feed-detail",path:"detail/:id",meta:{parentPath:"rhae.tweakwise.feed.list"}},create:{component:"rhae-tweakwise-feed-create",path:"create",meta:{parentPath:"rhae.tweakwise.feed.list"}}},settingsItem:{name:"rhae-tweakwise-feed-list",to:"rhae.tweakwise.feed.list",label:"rhae-tweakwise-feed.main.menuLabel",group:"plugins",iconComponent:"rhae-tweakwise-settings-icon"}});function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(){q=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function f(){}function h(){}var w={};c(w,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(L([])));g&&g!==t&&n.call(g,o)&&(w=g);var v=h.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==X(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function V(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===X(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=Shopware,ne=te.Component,re=te.Mixin,ie=te.Context,oe=Shopware.Data.Criteria;ne.register("rhae-tweakwise-frontend-list",{template:'<sw-page class="rhae-tweakwise-frontend-list">\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc(\'rhae-tweakwise-frontend.main.menuLabel\') }}\n        </h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button variant="primary" :routerLink="{ name: \'rhae.tweakwise.frontend.create\' }">\n            {{ $tc(\'rhae-tweakwise-frontend.list.addButtonText\') }}\n        </sw-button>\n    </template>\n\n    <template #content>\n        <sw-entity-listing\n            v-if="items"\n            :items="items"\n            :repository="repository"\n            :showSelection="true"\n            :columns="columns"\n            detailRoute="rhae.tweakwise.frontend.detail"\n            @select-item="updateSelection"\n            @update-records="updateTotal">\n            <template #more-actions="{ item }">\n                <sw-context-menu-item @click="onDuplicate(item)">\n                    {{ $tc(\'sw-product.list.buttonDuplicate\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-entity-listing>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","numberRangeService","context"],mixins:[re.getByName("notification"),re.getByName("listing")],data:function(){return{items:null,sortBy:"name"}},metaInfo:function(){return{title:this.$createTitle()}},computed:{repository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_frontend")},searchContext:function(){return Q(Q({},ie.api),{},{inheritance:!0})},columns:function(){return[{property:"name",dataIndex:"name",label:this.$t("rhae-tweakwise-frontend.list.columns.name"),routerLink:"rhae.tweakwise.frontend.detail",inlineEdit:"string",allowResize:!0,primary:!0}]}},methods:{getList:function(){var e,t=this;return(e=q().mark((function e(){var n,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new oe(t.page,t.limit,t.term),t.isLoading=!0,e.prev=2,e.next=5,t.repository.search(n,Shopware.Context.api);case 5:r=e.sent,t.total=r.total,t.isLoading=!1,t.items=r,t.selection={},e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t.isLoading=!1;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){V(o,r,i,a,s,"next",e)}function s(e){V(o,r,i,a,s,"throw",e)}a(void 0)}))})()},changeLanguage:function(){this.getList()},updateSelection:function(){},updateTotal:function(e){var t=e.total;this.total=t},onDuplicate:function(e){var t=this;this.repository.clone(e.id,Shopware.Context.api,{name:"".concat(e.name," ").concat(this.$tc("sw-product.general.copy")),locked:!1}).then((function(e){t.$router.push({name:"rhae.tweakwise.frontend.detail",params:{id:e.id}})}))}},created:function(){}});var ae='<sw-page class="rhae-tweakwise-frontend-detail">\n    <template #smart-bar-actions>\n        <sw-button :routerLink="{ name: \'rhae.tweakwise.frontend.list\' }">\n            {{ $t(\'rhae-tweakwise-frontend.detail.cancelButtonText\') }}\n        </sw-button>\n\n        <sw-button-process\n                :isLoading="isLoading"\n                :processSuccess="processSuccess"\n                variant="primary"\n                @process-finish="saveFinish"\n                @click="onClickSave">\n            {{ $t(\'rhae-tweakwise-frontend.detail.saveButtonText\') }}\n        </sw-button-process>\n    </template>\n\n    <template #content>\n        <sw-card-view>\n            <sw-card v-if="item" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-frontend.detail.section.main\')">\n\n                <sw-card-section>\n                    <sw-entity-multi-select\n                            :label="$t(\'rhae-tweakwise-frontend.detail.label.salesChannelDomains\')"\n                            labelProperty="url"\n                            value-property="id"\n                            v-model:entityCollection="item.salesChannelDomains"\n                    />\n\n                    <sw-text-field :label="$t(\'rhae-tweakwise-frontend.detail.label.name\')"\n                              v-model:value="item.name"\n                              required validation="required" ></sw-text-field>\n\n                    <sw-text-field :label="$t(\'rhae-tweakwise-frontend.detail.label.token\')"\n                              v-model:value="item.token" :error="tokenError" @blur="checkPossibilities"></sw-text-field>\n\n                    <sw-text-field\n                            :label="$t(\'rhae-tweakwise-frontend.detail.label.accessToken\')"\n                            v-model:value="item.accessToken"\n                    ></sw-text-field>\n\n                    <sw-select-field v-if="validToken" :label="$t(\'rhae-tweakwise-frontend.detail.label.integration\')"\n                                     v-model:value="item.integration">\n                        <option v-for="value in [\'no-integration\',\'pluginstudio\',\'javascript\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.integrationOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n\n                    <sw-checkbox-field\n                            v-model:value="item.eventTagEnabled"\n                            :label="$t(\'rhae-tweakwise-frontend.detail.label.eventTagEnabled\')"\n                            @update:value="onChangeToggle($event, \'eventTagEnabled\')"\n                    />\n                </sw-card-section>\n\n            </sw-card>\n            <sw-card v-if="validToken && (item.integration === \'javascript\' || item.integration === \'pluginstudio\')" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-frontend.detail.section.search\')">\n                <sw-card-section>\n                    <sw-select-field :label="$t(\'rhae-tweakwise-frontend.detail.label.wayOfSearch\')"\n                                     v-model:value="item.wayOfSearch">\n                        <option value="instant-search">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.wayOfSearchOptions.instant-search\') }}\n                        </option>\n                        <option value="suggestions" v-if="suggestionsAvailable">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.wayOfSearchOptions.suggestions\') }}\n                        </option>\n                    </sw-select-field>\n\n                    <sw-container\n                            columns="2fr 2fr 2fr"\n                            gap="0px 30px"\n                            v-if="item.integration === \'javascript\'"\n                    >\n                        <sw-number-field numberType="int" :label="$t(\'rhae-tweakwise-frontend.detail.label.productsDesktop\')"\n                                         v-model:value="item.productsDesktop">\n                        </sw-number-field>\n                        <sw-number-field numberType="int" :label="$t(\'rhae-tweakwise-frontend.detail.label.productsTablet\')"\n                                         v-model:value="item.productsTablet">\n                        </sw-number-field>\n                        <sw-number-field numberType="int" :label="$t(\'rhae-tweakwise-frontend.detail.label.productsMobile\')"\n                                         v-model:value="item.productsMobile">\n                        </sw-number-field>\n                    </sw-container>\n\n                    <sw-select-field :label="$t(\'rhae-tweakwise-frontend.detail.label.paginationType\')"\n                                     v-model:value="item.paginationType"\n                                     v-if="item.integration === \'javascript\'"\n                    >\n                        <option v-for="value in [\'default\',\'button\', \'infinite\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.paginationTypeOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n\n                </sw-card-section>\n            </sw-card>\n            <sw-card v-if="validToken && (item.integration === \'javascript\' || item.integration === \'pluginstudio\')" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-frontend.detail.section.merchandise\')">\n                <sw-card-section>\n                    <sw-checkbox-field\n                            v-model:value="item.fullPathCid"\n                            :label="$t(\'rhae-tweakwise-frontend.detail.label.fullPathCid\')"\n                            @update:value="onChangeToggle($event, \'fullPathCid\')"\n                    />\n                </sw-card-section>\n            </sw-card>\n            <sw-card v-if="validToken && recommendationsAvailable && (item.integration === \'javascript\' || item.integration === \'pluginstudio\')" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-frontend.detail.section.checkoutSales\')">\n                <sw-card-section>\n                    <sw-select-field :label="$t(\'rhae-tweakwise-frontend.detail.label.checkoutSales\')"\n                                     v-model:value="item.checkoutSales">\n                        <option v-for="value in [\'no-checkout-sales\',\'featured-products\',\'recommendations\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.checkoutSalesOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n\n                    <sw-text-field :label="$t(\'rhae-tweakwise-frontend.detail.label.checkoutSalesFeaturedProductsId\')"\n                              v-if="item.checkoutSales === \'featured-products\'"\n                              v-model:value="item.checkoutSalesFeaturedProductsId"></sw-text-field>\n\n                    <sw-text-field :label="$t(\'rhae-tweakwise-frontend.detail.label.checkoutSalesRecommendationsGroupKey\')"\n                              v-if="item.checkoutSales === \'recommendations\'"\n                              v-model:value="item.checkoutSalesRecommendationsGroupKey"></sw-text-field>\n                </sw-card-section>\n            </sw-card>\n\n            {% block sw_tweakwise_feed_detail_backendsync %}\n                <sw-card\n                        v-if="validToken && item.accessToken"\n                        :isLoading="isLoading"\n                        :title="$tc(\'rhae-tweakwise-frontend.detail.section.backendSync\')"\n                >\n                    <sw-alert\n                            class="sw-error-summary"\n                            variant="warning"\n                            :show-icon="true"\n                    >\n                        <div v-html="$t(\'rhae-tweakwise-frontend.detail.info.backendSyncBeta\')"></div>\n                    </sw-alert>\n\n                    <p>{{ $t(\'rhae-tweakwise-frontend.detail.info.backendSync\') }}</p>\n                    <sw-card-section>\n                        {% block sw_tweakwise_feed_detail_backendsync_enable_switch %}\n                            <sw-switch-field\n                                    v-model:value="item.backendSyncEnabled"\n                                    :label="$tc(\'rhae-tweakwise-frontend.detail.label.backendSyncEnabled\')"\n                            />\n                        {% endblock %}\n                        {% block sw_tweakwise_feed_detail_backendsync_options %}\n                            <div v-if="item.backendSyncEnabled && backendSyncOptions" class="backendSyncOptions">\n                                <h4>{{ $t(\'rhae-tweakwise-frontend.detail.section.backendSyncMain\') }}</h4>\n                                <sw-container\n                                        columns="2fr 2fr 2fr"\n                                        gap="0px 30px"\n                                >\n                                    <div v-if="!backendSyncOptions[\'main\'] || backendSyncOptions[\'main\'].length === 0">\n                                        Geen opties\n                                    </div>\n                                    <sw-checkbox-field\n                                            v-for="(label, option) in backendSyncOptions[\'main\']"\n                                            :name="option"\n                                            :value="isChecked(\'main\', option)"\n                                            @update:value="setSelectedProperty($event, option, \'main\')"\n                                            @change="setSelectedProperty($event, option, \'main\')"\n                                            :label="$tc(\'rhae-tweakwise-frontend.detail.label.backendSyncOptions.main.\' + label)"\n                                    />\n                                </sw-container>\n                                <h4>{{ $t(\'rhae-tweakwise-frontend.detail.section.backendSyncProperties\') }}</h4>\n                                <sw-container\n                                        columns="2fr 2fr 2fr"\n                                        gap="0px 30px"\n                                >\n                                    <div v-if="!backendSyncOptions[\'properties\'] || backendSyncOptions[\'properties\'].length === 0">\n                                        Geen opties\n                                    </div>\n                                    <sw-checkbox-field\n                                            v-for="(label, option) in backendSyncOptions[\'properties\']"\n                                            :name="option"\n                                            :value="isChecked(\'properties\', option)"\n                                            {% if VUE3 %}\n                                                @update:value="setSelectedProperty($event, option, \'properties\')"\n                                            {% else %}\n                                                @change="setSelectedProperty($event, option, \'properties\')"\n                                            {% endif %}\n                                            :label="label"\n                                    />\n                                </sw-container>\n                                <h4>{{ $t(\'rhae-tweakwise-frontend.detail.section.backendSyncCustomFields\') }}</h4>\n                                <sw-container\n                                        columns="2fr 2fr 2fr"\n                                        gap="0px 30px"\n                                >\n                                    <div v-if="!backendSyncOptions[\'customFields\'] || backendSyncOptions[\'customFields\'].length === 0">\n                                        Geen opties\n                                    </div>\n                                    <sw-checkbox-field\n                                            v-for="(label, option) in backendSyncOptions[\'customFields\']"\n                                            :name="option"\n                                            :value="isChecked(\'customFields\', option)"\n                                            {% if VUE3 %}\n                                                @update:value="setSelectedProperty($event, option, \'customFields\')"\n                                            {% else %}\n                                                @change="setSelectedProperty($event, option, \'customFields\')"\n                                            {% endif %}\n                                            :label="label"\n                                    />\n                                </sw-container>\n                            </div>\n                        {% endblock %}\n                    </sw-card-section>\n                </sw-card>\n            {% endblock %}\n        </sw-card-view>\n    </template>\n\n</sw-page>\n';Shopware.Component.extend("rhae-tweakwise-frontend-create","rhae-tweakwise-frontend-detail",{template:ae,methods:{getItem:function(){this.item=this.repository.create(Shopware.Context.api),this.isLoading=!1},onClickSave:function(){var e=this;this.isLoading=!0,this.repository.save(this.item,Shopware.Context.api).then((function(){e.isLoading=!1,e.$router.push({name:"rhae.tweakwise.frontend.detail",params:{id:e.item.id}})})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$tc("rhae-tweakwise.notification.errorTitle"),message:t})}))}}});n("Uuy3");function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(){ce=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function f(){}function h(){}var w={};c(w,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(L([])));g&&g!==t&&n.call(g,o)&&(w=g);var v=h.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==se(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function le(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){le(o,r,i,a,s,"next",e)}function s(e){le(o,r,i,a,s,"throw",e)}a(void 0)}))}}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==se(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===se(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=Shopware,we=he.Component,me=he.Mixin,ge=he.Context,ve=Shopware.Data,ye=ve.EntityCollection,be=ve.Criteria;Shopware.Component.getComponentHelper().mapPropertyErrors;we.register("rhae-tweakwise-frontend-detail",{template:ae,inject:["repositoryFactory","context"],mixins:[me.getByName("notification")],metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{item:null,salesChannelDomains:null,isLoading:!1,validToken:!1,tokenError:null,suggestionsAvailable:!1,recommendationsAvailable:!1,processSuccess:!1,salesChannelDomainIds:[],backendSyncOptions:[]}},computed:{integrationTypes:function(){return[{id:1,value:"no-integration",label:this.$tc("rhae-tweakwise-frontend.detail.label.integrationOptions.no-integration")},{id:2,value:"pluginstudio",label:this.$tc("rhae-tweakwise-frontend.detail.label.integrationOptions.pluginstudio")},{id:3,value:"javascript",label:this.$tc("rhae-tweakwise-frontend.detail.label.integrationOptions.javascript")}]},wayOfSearchTypes:function(){return this.suggestionsAvailable?[{id:1,value:"instant-search",label:this.$tc("rhae-tweakwise-frontend.detail.label.wayOfSearchOptions.instant-search")},{id:2,value:"suggestions",label:this.$tc("rhae-tweakwise-frontend.detail.label.wayOfSearchOptions.suggestions")}]:[{id:1,value:"instant-search",label:this.$tc("rhae-tweakwise-frontend.detail.label.wayOfSearchOptions.instant-search")}]},checkoutSalesTypes:function(){return[{id:1,value:"no-checkout-sales",label:this.$tc("rhae-tweakwise-frontend.detail.label.checkoutSalesOptions.no-checkout-sales")},{id:2,value:"featured-products",label:this.$tc("rhae-tweakwise-frontend.detail.label.checkoutSalesOptions.featured-products")},{id:3,value:"recommendations",label:this.$tc("rhae-tweakwise-frontend.detail.label.checkoutSalesOptions.recommendations")}]},repository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_frontend")},salesChannelDomainRepository:function(){return this.repositoryFactory.create("sales_channel_domain")},salesChannelDomainIds:{get:function(){return this.salesChannelDomainIds||[]},set:function(e){this.salesChannelDomainIds=pe(pe({},this.salesChannelDomainIds),{},{salesChannelDomainIds:e})}},defaultCriteria:function(){return new be}},created:function(){this.getItem(),this.getSalesChannelDomains(),this.getBackendSyncOptions()},methods:{getBackendSyncOptions:function(){var e=this;return ue(ce().mark((function t(){var n,r,i,o;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,n=Shopware.Service("loginService").getToken(),r={headers:{Authorization:"Bearer ".concat(n)}},i=Shopware.Application.getContainer("init").httpClient,"/_action/rhae-tweakwise/sync-options",t.next=7,i.get("/_action/rhae-tweakwise/sync-options",r);case 7:200!==(o=t.sent).status?{main:[],options:[],customFields:[]}:e.backendSyncOptions=o.data,e.isLoading=!1;case 10:case"end":return t.stop()}}),t)})))()},isChecked:function(e,t){var n;return!!(null!==(n=this.item)&&void 0!==n&&n.backendSyncProperties&&this.item.backendSyncProperties[e]&&this.item.backendSyncProperties[e][t])},checkPossibilities:function(){var e=this;return ue(ce().mark((function t(){var n,r,i;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.validToken=!1,e.suggestionsAvailable=!1,e.recommendationsAvailable=!1,!e.item.token){t.next=23;break}return t.prev=4,e.isLoading=!0,n=Shopware.Application.getContainer("init").httpClient,r={headers:{Authorization:"Bearer ".concat(Shopware.Service("loginService").getToken())}},t.next=10,n.get("/_action/rhae-tweakwise/check-possibilities/"+e.item.token,r);case 10:i=t.sent,e.validToken=!0===i.data.validToken,e.suggestionsAvailable=!0===i.data.features.suggestions,e.recommendationsAvailable=!0===i.data.features.recommendations,t.next=18;break;case 16:t.prev=16,t.t0=t.catch(4);case 18:return t.prev=18,e.tokenError=null,e.validToken||(e.tokenError={detail:e.$tc("rhae-tweakwise-frontend.notification.tokenError")}),e.isLoading=!1,t.finish(18);case 23:case"end":return t.stop()}}),t,null,[[4,16,18,23]])})))()},getSalesChannelDomains:function(){this.salesChannelDomains=new ye(this.salesChannelDomainRepository.route,this.salesChannelDomainRepository.entityName,ge.api)},getItem:function(){var e=this,t=new be;t.addAssociation("salesChannelDomains"),this.repository.get(this.$route.params.id,ge.api,t).then((function(t){e.item=t,e.checkPossibilities(),e.item.backendSyncProperties&&!Array.isArray(e.item.backendSyncProperties)||(e.item.backendSyncProperties={});["main","properties","customFields"].forEach((function(t){e.item.backendSyncProperties[t]&&!Array.isArray(e.item.backendSyncProperties[t])||(e.item.backendSyncProperties[t]={})}))}))},onChangeValue:function(e,t){this.item[t]=e,this.$emit("change-value",t,e)},setSelectedProperty:function(e,t,n){this.item.backendSyncProperties&&!Array.isArray(this.item.backendSyncProperties)||(this.item.backendSyncProperties={}),this.item.backendSyncProperties[n]&&!Array.isArray(this.item.backendSyncProperties[n])||(this.item.backendSyncProperties[n]={}),this.item.backendSyncProperties[n][String(t)]=!!e,this.$emit("change-value",t,e)},ensureOptionKeysExist:function(){var e=this;["main","properties","customFields"].forEach((function(t){var n;e.item.backendSyncProperties[t]||e.$set(e.item.backendSyncProperties,t,{}),((null===(n=e.backendSyncOptions)||void 0===n?void 0:n[t])||[]).forEach((function(n){void 0===e.item.backendSyncProperties[t][n]&&e.$set(e.item.backendSyncProperties[t],n,!1)}))}))},onChangeToggle:function(e,t){this.onChangeValue(e,t,!1)},onClickSave:function(){var e=this;return ue(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.repository.save(e.item,ge.api);case 4:return t.next=6,e.getItem();case 6:e.processSuccess=!0,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.createNotificationError({title:e.$tc("rhae-tweakwise-frontend.notification.errorTitle"),message:t.t0});case 12:return t.prev=12,e.isLoading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))()},setSalesChannelDomains:function(e){this.salesChannelDomains=e,this.item.salesChannelDomains=e},saveFinish:function(){this.processSuccess=!1}}});var ke=n("lwdT"),_e=n("cEi4");Shopware.Module.register("rhae-tweakwise-frontend",{type:"plugin",name:"Tweakwise frontend",title:"rhae-tweakwise-frontend.main.menuLabel",description:"rhae-tweakwise-frontend.main.menuDescription",color:"#01b7cd",snippets:{"nl-NL":ke,"en-GB":_e},routes:{list:{component:"rhae-tweakwise-frontend-list",path:"list",meta:{parentPath:"sw.settings.index.plugins"}},detail:{component:"rhae-tweakwise-frontend-detail",path:"detail/:id",meta:{parentPath:"rhae.tweakwise.frontend.list"}},create:{component:"rhae-tweakwise-frontend-create",path:"create",meta:{parentPath:"rhae.tweakwise.frontend.list"}}},settingsItem:{name:"rhae-tweakwise-frontend-list",to:"rhae.tweakwise.frontend.list",label:"rhae-tweakwise-frontend.main.menuLabel",group:"plugins",iconComponent:"rhae-tweakwise-settings-icon"}});Shopware.Component.override("sw-cms-sidebar",{template:"{% block sw_cms_sidebar_block_overview_category_options %}\n    {% block sw_cms_sidebar_block_overview_category_tweakwise %}\n        <option value=\"tweakwise\">\n            {{ $tc('sw-cms.component.sw-cms-sidebar.blockTweakwise') }}\n        </option>\n    {% endblock %}\n\n    {% parent %}\n{% endblock %}\n"})},O53K:function(e,t,n){},"Pt1+":function(e,t,n){var r=n("aFGg");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("239dd8e3",r,!0,{})},Tmvc:function(e,t,n){var r=n("hem0");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("ae58dcc6",r,!0,{})},Uuy3:function(e,t,n){var r=n("7UV0");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("fdb763bc",r,!0,{})},aFGg:function(e,t,n){},cEi4:function(e){e.exports=JSON.parse('{"rhae-tweakwise-frontend":{"main":{"menuLabel":"Tweakwise","menuDescription":"Configure your Tweakwise instances"},"list":{"addButtonText":"Add new instance","refreshButtonText":"Refresh","columns":{"name":"Instance"}},"notification":{"tokenError":"Invalid instance key given"},"detail":{"cancelButtonText":"Cancel","saveButtonText":"Save","section":{"main":"General","data":"Data","checkoutSales":"Checkout sales","search":"Search","merchandise":"Merchandising","backendSync":"Backend Sync","backendSyncMain":"Main properties","backendSyncProperties":"Additional properties","backendSyncCustomFields":"Custom fields"},"info":{"backendSync":"If enabled, you get the possibility to sync a product with Tweakwise from the product page in the admin of Shopware. This way you can sync a specific product right away.","backendSyncBeta":"<strong>Experimental feature:</strong> Please reach out to us in case you encounter unexpected behaviour."},"label":{"name":"Name","token":"Instance key","accessToken":"Access token","integration":"Way of integration","integrationOptions":{"no-integration":"No integration","javascript":"JavaScript implementation","pluginstudio":"Plugin Studio implementation"},"eventTagEnabled":"Enable advanced analytics (e.g., for personalization)","wayOfSearch":"Way of search","wayOfSearchOptions":{"instant-search":"Instant search","suggestions":"Suggestions + Dedicated search page"},"checkoutSales":"Checkout sales","checkoutSalesOptions":{"no-checkout-sales":"No checkout sales","featured-products":"Show featured products","recommendations":"Show recommendations based on last item in cart"},"backendSyncOptions":{"main":{"name":"Name","unitPrice":"Unit price","availableStock":"Available stock","manufacturer":"Manufacturer","url":"Url","images":"Images","categories":"Categories"}},"fullPathCid":"Show sibling categories in category filtering","checkoutSalesFeaturedProductsId":"Featured recommendation ID","checkoutSalesRecommendationsGroupKey":"Group key used for cross-sell","salesChannelDomains":"Domains","backendSyncEnabled":"Enable backend synchronisation","productsDesktop":"Products per row on desktop","productsTablet":"Products per row on tablet","productsMobile":"Products per row on mobile","paginationType":"Type of pagination","paginationTypeOptions":{"default":"Default","button":"Button","infinite":"Infinite"}}}}}')},dtWS:function(e,t,n){},dxw3:function(e,t,n){},hem0:function(e,t,n){},lwdT:function(e){e.exports=JSON.parse('{"rhae-tweakwise-frontend":{"main":{"menuLabel":"Tweakwise","menuDescription":"Configureer je Tweakwise instanties"},"list":{"addButtonText":"Maak nieuwe instantie","refreshButtonText":"Vernieuwen","columns":{"name":"Instantie"}},"notification":{"tokenError":"Ongeldige instance key opgegeven"},"detail":{"cancelButtonText":"Annuleren","saveButtonText":"Opslaan","section":{"main":"Algemeen","data":"Data","checkoutSales":"Kassakoopjes","search":"Zoeken","merchandise":"Listerpagina\'s","backendSync":"Backend synchronisatie","backendSyncMain":"Algemene eigenschappen","backendSyncProperties":"Overige eigenschappen","backendSyncCustomFields":"Vrije tekstvelden"},"info":{"backendSync":"Wanneer deze optie is geactiveerd, krijg je de mogelijkheid om een product direct te synchroniseren met Tweakwise op de product pagina in de Shopware admin","backendSyncBeta":"<strong>Experimentele functie:</strong> Neem contact met ons op als je onverwachte fouten ervaart"},"label":{"name":"Naam","token":"Instance key","accessToken":"Access token","integration":"Manier van integreren","integrationOptions":{"no-integration":"Geen integratie","javascript":"JavaScript integratie","pluginstudio":"Plugin Studio implementatie"},"eventTagEnabled":"Activeer geavanceerde analytics (bijv. voor personalisatie)","wayOfSearch":"Manier van zoeken","wayOfSearchOptions":{"instant-search":"Direct zoeken","suggestions":"Suggesties + aparte zoekpagina"},"checkoutSales":"Kassakoopjes","checkoutSalesOptions":{"no-checkout-sales":"Geen kassakoopjes","featured-products":"Toon uitgelichte producten","recommendations":"Toon aanbevelingen gebaseerd op het laatst toegevoegde product"},"backendSyncOptions":{"main":{"name":"Naam","unitPrice":"Prijs per stuk","availableStock":"Beschikbare voorraad","manufacturer":"Fabrikant","url":"Url","images":"Afbeeldingen","categories":"CategorieÃ«n"}},"fullPathCid":"Laat categorieÃ«n met dezelfde bovenliggende categorie zien bij categorie filters","checkoutSalesFeaturedProductsId":"Uitgelichte producten ID","checkoutSalesRecommendationsGroupKey":"Groep sleutel gebruikt voor cross-sell","salesChannelDomains":"Domeinen","backendSyncEnabled":"Activeer backend synchronisatie","productsDesktop":"Aantal producten per rij op desktop","productsTablet":"Aantal producten per rij op tablet","productsMobile":"Aantal producten per rij op mobiel","paginationType":"Type paginering","paginationTypeOptions":{"default":"Standaard","button":"Knop","infinite":"Oneindig"}}}}}')},qnKl:function(e,t,n){var r=n("dtWS");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("2ce32afa",r,!0,{})},sHAt:function(e,t,n){},vViF:function(e,t,n){},vp98:function(e,t,n){var r=n("dxw3");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("6a051fba",r,!0,{})},wgCq:function(e,t,n){var r=n("+Zcu");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("ydqr").default)("a8c7e5a4",r,!0,{})},ydqr:function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=o[0],s={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}n.r(t),n.d(t,"default",(function(){return h}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,u=function(){},d=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,n,i){l=n,d=i||{};var a=r(e,t);return w(a),function(t){for(var n=[],i=0;i<a.length;i++){var s=a[i];(c=o[s.id]).refs--,n.push(c)}t?w(a=r(e,t)):a=[];for(i=0;i<n.length;i++){var c;if(0===(c=n[i]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete o[c.id]}}}}function w(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(g(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(g(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:a}}}}function m(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function g(e){var t,n,r=document.querySelector("style["+p+'~="'+e.id+'"]');if(r){if(l)return u;r.parentNode.removeChild(r)}if(f){var i=c++;r=s||(s=m()),t=b.bind(null,r,i,!1),n=b.bind(null,r,i,!0)}else r=m(),t=k.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var v,y=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function b(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function k(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(p,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}});
//# sourceMappingURL=rhae-tweakwise.js.map