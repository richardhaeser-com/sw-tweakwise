/*! For license information please see rhae-tweakwise.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/rhaetweakwise/",n(n.s="04lo")}({"04lo":function(e,t,n){"use strict";n.r(t);Shopware.Component.register("sw-cms-block-tweakwise-featured-products",{template:'{% block sw_cms_block_tweakwise_featured_products %}\n    <div class="sw-cms-block-tweakwise-featured-products">\n        <slot name="products">{% block sw_cms_block_tweakwise_featured_products_products %}{% endblock %}</slot>\n    </div>\n{% endblock %}\n'});n("dBLl");Shopware.Component.register("sw-cms-preview-tweakwise-featured-products",{template:'{% block sw_cms_block_tweakwise_featured_products_preview %}\n    <div class="sw-cms-preview-tweakwise-featured-products">\n        <sw-icon\n                name="regular-chevron-left"\n                size="20"\n        />\n        <div class="sw-cms-preview-tweakwise-featured-products__product-box">\n            <sw-cms-product-box-preview />\n            <sw-cms-product-box-preview />\n        </div>\n        <sw-icon\n                name="regular-chevron-right"\n                size="20"\n        />\n    </div>\n{% endblock %}\n'}),Shopware.Service("cmsService").registerCmsBlock({name:"tweakwise-featured-products",category:"tweakwise",label:"Featured products",component:"sw-cms-block-tweakwise-featured-products",previewComponent:"sw-cms-preview-tweakwise-featured-products",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"20px",marginRight:"20px",sizingMode:"boxed"},slots:{products:"tweakwise-featured-products"}});Shopware.Component.override("sw-cms-el-config-product-listing",{template:"{% block sw_cms_element_product_listing_config_layout_select_options %}\n    {% parent %}\n    <option value=\"tweakwise\">\n        {{ $tc('sw-cms.elements.productBox.config.label.layoutTypeTweakwise') }}\n    </option>\n{% endblock %}\n"});n("lYK4");Shopware.Component.register("sw-cms-el-tweakwise-featured-products",{template:'{% block sw_cms_element_tweakwise_featured_products %}\n    <div class="sw-cms-el-tweakwise-featured-products">\n        <sw-icon\n                name="regular-chevron-left"\n                size="10"\n        />\n        <sw-cms-product-box-preview />\n        <sw-cms-product-box-preview />\n        <sw-cms-product-box-preview />\n        <sw-cms-product-box-preview />\n        <sw-icon\n                name="regular-chevron-right"\n                size="10"\n        />\n    </div>\n{% endblock %}\n'});n("HqnL");Shopware.Component.register("sw-cms-el-preview-tweakwise-featured-products",{template:'{% block sw_cms_element_tweakwise_featured_products_preview %}\n    <div class="sw-cms-el-preview-tweakwise-featured-products">\n        <sw-icon\n                name="regular-chevron-left"\n                size="10"\n        />\n        <sw-cms-product-box-preview :has-text="false" />\n        <sw-icon\n                name="regular-chevron-right"\n                size="10"\n        />\n    </div>\n{% endblock %}\n'});Shopware.Component.register("sw-cms-el-config-tweakwise-featured-products",{template:'{% block sw_cms_element_dailymotion_config %}\n    <sw-text-field\n            v-model="groupId"\n            class="swag-groupid-field"\n            :label="$tc(\'sw-cms.elements.tweakwiseFeaturedProducts.config.groupId.label\')"\n            :help-text="$tc(\'sw-cms.elements.tweakwiseFeaturedProducts.config.groupId.helpText\')"\n            required\n            :placeholder="$tc(\'sw-cms.elements.tweakwiseFeaturedProducts.config.groupId.placeHolder\')"\n            @input="onElementUpdate"\n            @change="onElementUpdate">\n    </sw-text-field>\n{% endblock %}\n',mixins:["cms-element"],computed:{groupId:{get:function(){return this.element.config.groupId.value},set:function(e){this.element.config.groupId.value=e}}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.initElementConfig("tweakwise-featured-products")},onElementUpdate:function(e){this.element.config.groupId.value=e,this.$emit("element-update",this.element)}}}),Shopware.Service("cmsService").registerCmsElement({name:"tweakwise-featured-products",label:"sw-cms.elements.tweakwiseFeaturedProducts.label",component:"sw-cms-el-tweakwise-featured-products",configComponent:"sw-cms-el-config-tweakwise-featured-products",previewComponent:"sw-cms-el-preview-tweakwise-featured-products",defaultConfig:{groupId:{required:!0,source:"static",value:""}}});Shopware.Data.Criteria;var r=Shopware,i=r.Component,o=(r.Context,i.getComponentHelper());o.mapPropertyErrors,o.mapGetters,o.mapState;Shopware.Component.override("sw-product-cross-selling-form",{template:'{% block sw_prduct_cross_selling_form_product_stream_field %}\n<div v-if="!useTweakwise">\n    {% parent %}\n</div>\n\n    <div v-if="useTweakwise">\n        <sw-text-field\n            v-model="crossSelling.extensions.tweakwise.groupKey"\n            :label="$tc(\'sw-product.crossselling.tweakwiseGroupKey\')"\n            required\n            placeholder="Default is sw-cross-sell"\n            :disabled="!allowEdit"\n        />\n    </div>\n{% endblock %}\n\n{% block sw_prduct_cross_selling_form_sort_field %}\n    <div v-if="!useTweakwise">\n        {% parent %}\n    </div>\n{% endblock %}\n\n{% block sw_prduct_cross_selling_form_limit_field %}\n    <div v-if="!useTweakwise">\n        {% parent %}\n    </div>\n{% endblock %}\n\n{% block sw_prduct_cross_selling_form_preview_link %}\n    <div v-if="!useTweakwise">\n        {% parent %}\n    </div>\n{% endblock %}\n',created:function(){this.crossSelling.extensions.tweakwise||(this.crossSelling.extensions.tweakwise=this.repositoryFactory.create("product_cross_selling_tweakwise").create(Shopware.Context.api))},computed:{crossSellingTypes:function(){return[{label:this.$tc("sw-product.crossselling.tweakwiseType"),value:"tweakwiseRecommendation"},{label:this.$tc("sw-product.crossselling.productStreamType"),value:"productStream"},{label:this.$tc("sw-product.crossselling.productListType"),value:"productList"}]}},data:function(){return{showDeleteModal:!1,showModalPreview:!1,productStream:null,productStreamFilter:[],productStreamFilterTree:null,optionSearchTerm:"",useManualAssignment:!1,useTweakwise:!1,sortBy:"name",sortDirection:"ASC",assignmentKey:0}},watch:{"crossSelling.productStreamId":function(){this.useManualAssignment||this.useTweakwise||this.loadStreamPreview()}},methods:{createdComponent:function(){this.useManualAssignment="productList"===this.crossSelling.type,this.useTweakwise="tweakwiseRecommendation"===this.crossSelling.type},onTypeChanged:function(e){this.useManualAssignment="productList"===e,this.useTweakwise="tweakwiseRecommendation"===e}}});function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new O(i||[]);return r(a,"_invoke",{value:I(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function m(){}function h(){}function w(){}var g={};u(g,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(j([])));y&&y!==t&&n.call(y,o)&&(g=y);var b=w.prototype=m.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function i(r,o,s,c){var l=p(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,s,c)}),(function(e){i("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function I(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return _()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=w,r(b,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:h,configurable:!0}),h.displayName=u(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(C.prototype),u(C.prototype,c,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new C(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(b),u(b,l,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function c(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=Shopware,f=p.Component,m=p.Mixin,h=p.Context,w=Shopware.Data.Criteria;f.register("rhae-tweakwise-feed-list",{template:'<sw-page class="rhae-tweakwise-feed-list">\n    <template slot="smart-bar-header">\n        <h2>\n            {{ $tc(\'rhae-tweakwise-feed.main.menuLabel\') }}\n        </h2>\n    </template>\n\n    <template slot="smart-bar-actions">\n        <sw-button variant="primary" :routerLink="{ name: \'rhae.tweakwise.feed.create\' }">\n            {{ $tc(\'rhae-tweakwise-feed.list.addButtonText\') }}\n        </sw-button>\n    </template>\n\n    <template slot="content">\n        <sw-entity-listing\n            v-if="items"\n            :items="items"\n            :repository="repository"\n            :showSelection="true"\n            :columns="columns"\n            detailRoute="rhae.tweakwise.feed.detail"\n            @select-item="updateSelection"\n            @update-records="updateTotal">\n            <template #more-actions="{ item }">\n                <sw-context-menu-item @click="onDuplicate(item)">\n                    {{ $tc(\'sw-product.list.buttonDuplicate\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-entity-listing>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","numberRangeService","context"],mixins:[m.getByName("notification"),m.getByName("listing")],data:function(){return{items:null,sortBy:"name"}},metaInfo:function(){return{title:this.$createTitle()}},computed:{repository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_feed")},searchContext:function(){return u(u({},h.api),{},{inheritance:!0})},columns:function(){return[{property:"name",dataIndex:"name",label:this.$t("rhae-tweakwise-feed.list.columns.name"),routerLink:"rhae.tweakwise.feed.detail",inlineEdit:"string",allowResize:!0,primary:!0}]}},methods:{getList:function(){var e,t=this;return(e=s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new w(t.page,t.limit,t.term),t.isLoading=!0,e.prev=2,e.next=5,t.repository.search(n,Shopware.Context.api);case 5:r=e.sent,t.total=r.total,t.isLoading=!1,t.items=r,t.selection={},e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t.isLoading=!1;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))})()},changeLanguage:function(){this.getList()},updateSelection:function(){},updateTotal:function(e){var t=e.total;this.total=t},onDuplicate:function(e){var t=this;this.repository.clone(e.id,Shopware.Context.api,{name:"".concat(e.name," ").concat(this.$tc("sw-product.general.copy")),locked:!1}).then((function(e){t.$router.push({name:"rhae.tweakwise.feed.detail",params:{id:e.id}})}))}},created:function(){}});var g='<sw-page class="rhae-tweakwise-feed-detail">\n    <template slot="smart-bar-actions">\n        <sw-button @click="getItem">\n            <sw-icon name="regular-undo" />\n        </sw-button>\n\n        <sw-button :routerLink="{ name: \'rhae.tweakwise.feed.list\' }">\n            {{ $t(\'rhae-tweakwise-feed.detail.cancelButtonText\') }}\n        </sw-button>\n\n        <sw-button-process\n                :isLoading="isLoading"\n                :processSuccess="processSuccess.general"\n                variant="primary"\n                @process-finish="saveFinish"\n                @click="onClickSave">\n            {{ $t(\'rhae-tweakwise-feed.detail.saveButtonText\') }}\n        </sw-button-process>\n    </template>\n\n    <template slot="content">\n        <sw-card-view>\n            <sw-card v-if="item" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-feed.detail.section.main\')">\n                <sw-card-section\n                    v-if="!item.isNew()"\n                    slot="toolbar"\n                    :secondary="true"\n                >\n                    <sw-container columns="1fr" gap="30px" style="margin-bottom: 1rem;">\n                        <div>\n                            <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                {{ $t(\'rhae-tweakwise-feed.detail.label.feedUrl\') }}\n                            </p>\n\n                            <p>{{ item.salesChannelDomains[0].url }}/tweakwise/feed-{{item.id}}.xml</p>\n                        </div>\n                    </sw-container>\n                    <sw-container\n                        class="rhae-tweakwise-feed__card-toolbar"\n                        columns="repeat(3, 1fr)"\n                    >\n                        <div>\n                            <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                {{ $t(\'rhae-tweakwise-feed.detail.label.lastGeneratedAt\') }}\n                            </p>\n                            <p v-if="item.lastGeneratedAt"><sw-time-ago :date="item.lastGeneratedAt" /></p>\n                            <p v-else>-</p>\n                        </div>\n                        <div>\n                            <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                {{ $t(\'rhae-tweakwise-feed.detail.label.nextGenerationAt\') }}\n                            </p>\n                            <p v-if="item.nextGenerationAt">{{ dateFilter(item.nextGenerationAt, { hour: \'2-digit\', minute: \'2-digit\' }) }}</p>\n                            <p v-else>{{ $t(\'rhae-tweakwise-feed.detail.label.withinOneMinute\') }}</p>\n                            <sw-button size="small" style="margin-top: 1rem;" @click="generateFeedNow" :isLoading="isLoading">\n                                {{ $t(\'rhae-tweakwise-feed.detail.label.generateNow\') }}\n                            </sw-button>\n                        </div>\n                        <div>\n                            <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                {{ $t(\'rhae-tweakwise-feed.detail.label.status\') }}\n                            </p>\n                            <p>{{ $tc(`rhae-tweakwise-feed.detail.label.statusOption.${item.status}`) }}</p>\n                        </div>\n                    </sw-container>\n\n\n                </sw-card-section>\n\n                <sw-card-section>\n                    <sw-field :label="$t(\'rhae-tweakwise-feed.detail.label.name\')"\n                              v-model="item.name"\n                              required validation="required" ></sw-field>\n\n                    <sw-entity-multi-select\n                        :label="$t(\'rhae-tweakwise-feed.detail.label.salesChannelDomains\')"\n                        labelProperty="url"\n                        value-property="id"\n                        v-model="item.salesChannelDomains"\n                    />\n\n                    <sw-boolean-radio-group\n                        v-model="item.includeHiddenCategories"\n                        :label="$t(\'rhae-tweakwise-feed.detail.label.includeHiddenCategories\')"\n                        :label-option-true="$t(\'rhae-tweakwise-feed.detail.label.includeHiddenCategoriesTrue\')"\n                        :label-option-false="$t(\'rhae-tweakwise-feed.detail.label.includeHiddenCategoriesFalse\')"\n                    >\n                    </sw-boolean-radio-group>\n\n                    <sw-select-field :label="$t(\'rhae-tweakwise-feed.detail.label.interval\')"\n                                     v-model:value="item.interval">\n                        <option v-for="value in [30,60,360,720,1440]" :value="value">\n                            {{ $tc(\'rhae-tweakwise-feed.detail.label.intervalOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n\n                    <p>{{ $tc(`rhae-tweakwise-feed.detail.label.intervalDescription`) }}</p>\n                </sw-card-section>\n            </sw-card>\n        </sw-card-view>\n    </template>\n\n</sw-page>\n';Shopware.Component.extend("rhae-tweakwise-feed-create","rhae-tweakwise-feed-detail",{template:g,methods:{getItem:function(){this.item=this.repository.create(Shopware.Context.api),this.item.includeHiddenCategories=!1,this.isLoading=!1},onClickSave:function(){var e=this;this.isLoading=!0,this.repository.save(this.item,Shopware.Context.api).then((function(){e.isLoading=!1,e.$router.push({name:"rhae.tweakwise.feed.detail",params:{id:e.item.id}})})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$tc("rhae-tweakwise.notification.errorTitle"),message:t})}))}}});n("OFZu");function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=Shopware,I=C.Component,S=C.Mixin,x=C.Context,L=Shopware.Data,O=L.EntityCollection,j=L.Criteria;Shopware.Component.getComponentHelper().mapPropertyErrors;I.register("rhae-tweakwise-feed-detail",{template:g,inject:["repositoryFactory","context"],mixins:[S.getByName("notification")],metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{item:null,salesChannelDomains:null,isLoading:!1,salesChannelDomainIds:[],processes:{generateFeed:!1},processSuccess:{general:!1,generateFeed:!1}}},computed:{repository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_feed")},salesChannelDomainRepository:function(){return this.repositoryFactory.create("sales_channel_domain")},salesChannelDomainIds:{get:function(){return this.salesChannelDomainIds||[]},set:function(e){this.salesChannelDomainIds=b(b({},this.salesChannelDomainIds),{},{salesChannelDomainIds:e})}},dateFilter:function(){return Shopware.Filter.getByName("date")},defaultCriteria:function(){return new j}},created:function(){this.getItem(),this.getSalesChannelDomains()},methods:{getSalesChannelDomains:function(){this.salesChannelDomains=new O(this.salesChannelDomainRepository.route,this.salesChannelDomainRepository.entityName,x.api)},resetButtons:function(){this.processSuccess={general:!1,generateFeed:!1}},generateFeedNow:function(){var e=this;this.isLoading=!0,this.item.nextGenerationAt=null,this.repository.save(this.item,x.api).then((function(){e.getItem(),e.isLoading=!1,e.processSuccess=!0})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:"Unknown error",message:t})}))},getItem:function(){var e=this,t=new j;t.addAssociation("salesChannelDomains"),this.repository.get(this.$route.params.id,x.api,t).then((function(t){e.item=t}))},onClickSave:function(){var e=this;this.isLoading=!0,this.repository.save(this.item,x.api).then((function(){e.getItem(),e.isLoading=!1,e.processSuccess=!0})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$tc("rhae-tweakwise-feed.notification.errorTitle"),message:t})}))},setSalesChannelDomains:function(e){this.salesChannelDomains=e,this.item.salesChannelDomains=e},saveFinish:function(){this.processSuccess=!1}}});n("VoQG");Shopware.Component.register("rhae-tweakwise-settings-icon",{template:'{% block rhae_tweakwise_settings_icon %}\n    <div class="rhae-tweakwise-settings-icon">\n        <img height="30" width="30" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgaWQ9IlR3ZWFrd2lzZV93aXQiCiAgIHZpZXdCb3g9IjAgMCAzOTQuMjcyIDQxOS43NTM2IgogICB2ZXJzaW9uPSIxLjEiCiAgIHNvZGlwb2RpOmRvY25hbWU9InR3ZWFrd2lzZS1sZXR0ZXItd2l0LnN2ZyIKICAgd2lkdGg9IjM5NC4yNzIiCiAgIGhlaWdodD0iNDE5Ljc1MzYiCiAgIGlua3NjYXBlOnZlcnNpb249IjEuMC4yIChlODZjODcwOCwgMjAyMS0wMS0xNSkiPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTg5NCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGRlZnMKICAgICBpZD0iZGVmczg5MiIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE3OTIiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAwNyIKICAgICBpZD0ibmFtZWR2aWV3ODkwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBmaXQtbWFyZ2luLXRvcD0iMCIKICAgICBmaXQtbWFyZ2luLWxlZnQ9IjAiCiAgICAgZml0LW1hcmdpbi1yaWdodD0iMCIKICAgICBmaXQtbWFyZ2luLWJvdHRvbT0iMCIKICAgICBpbmtzY2FwZTp6b29tPSIwLjY2NzI4Njc2IgogICAgIGlua3NjYXBlOmN4PSI3MjEuNTU5NSIKICAgICBpbmtzY2FwZTpjeT0iMjM4LjUyNzM0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyNSIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIwIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9IlR3ZWFrd2lzZV93aXQiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtcm90YXRpb249IjAiIC8+CiAgPHBhdGgKICAgICBkPSJNIDI0MS44MTUwOSwzMzYuODEzMjYgViA5MS40MjU0NjQgaCA1MC45ODg1IGMgNS4yNDI0LDAgNi42NzcsLTEuNjU4OCA3LjYzMDgsMy4xMTg5IGwgNy42MzA5LDM5LjM1MDI5NiBoIDUyLjY2MzUgViA0MC40NjIzNjQgSCA0Ni40NTY3ODggdiA5My40MzIxOTYgaCA1OC45MTgzMDIgbCA3LjYzMDksLTM5LjM1MDI5NiBjIDAuOTQ1MywtNC43Nzc4IDIuMzgwOCwtMy4xMTg5IDcuNjMwOCwtMy4xMTg5IGggNDQuNzMzNyBWIDMzNi44MTMyNiBjIDAsNy4xNTc4IDEuOTQwOCw5LjA2NTUgLTQuNzM2Miw5LjUzODYgbCAtNDYuMjI2OCwzLjM0MzIgdiAzMC41MjA5IGggMTg2Ljg2NDUgdiAtMzAuNTIwOSBsIC01Mi4xNDEyLC0zLjgxNjMgYyAtNy4xNTc4LC0wLjQ4MDggLTcuMzE1NywtMi4zOCAtNy4zMTU3LC05LjA2NTUgeiIKICAgICBmaWxsPSIjZmZmZmZmIgogICAgIGlkPSJwYXRoODMzIgogICAgIHN0eWxlPSJmaWxsOiNmZmZmZmYiIC8+Cjwvc3ZnPgo=" alt="Tweakwise logo" />\n    </div>\n{% endblock %}\n'});var _=n("LZw9"),T=n("GQH3");Shopware.Module.register("rhae-tweakwise-feed",{type:"plugin",name:"Tweakwise Feed",title:"rhae-tweakwise-feed.main.menuLabel",description:"rhae-tweakwise-feed.main.menuDescription",color:"#01b7cd",snippets:{"nl-NL":_,"en-GB":T},routes:{list:{component:"rhae-tweakwise-feed-list",path:"list",meta:{parentPath:"sw.settings.index.plugins"}},detail:{component:"rhae-tweakwise-feed-detail",path:"detail/:id",meta:{parentPath:"rhae.tweakwise.feed.list"}},create:{component:"rhae-tweakwise-feed-create",path:"create",meta:{parentPath:"rhae.tweakwise.feed.list"}}},settingsItem:{name:"rhae-tweakwise-feed-list",to:"rhae.tweakwise.feed.list",label:"rhae-tweakwise-feed.main.menuLabel",group:"plugins",iconComponent:"rhae-tweakwise-settings-icon"}});function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function N(){N=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new x(i||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function f(){}function m(){}var h={};c(h,o,(function(){return this}));var w=Object.getPrototypeOf,g=w&&w(w(L([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=p.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==D(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=m,r(v,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:f,configurable:!0}),f.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function A(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===D(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=Shopware,E=Z.Component,F=Z.Mixin,z=Z.Context,B=Shopware.Data.Criteria;E.register("rhae-tweakwise-frontend-list",{template:'<sw-page class="rhae-tweakwise-frontend-list">\n    <template slot="smart-bar-header">\n        <h2>\n            {{ $tc(\'rhae-tweakwise-frontend.main.menuLabel\') }}\n        </h2>\n    </template>\n\n    <template slot="smart-bar-actions">\n        <sw-button variant="primary" :routerLink="{ name: \'rhae.tweakwise.frontend.create\' }">\n            {{ $tc(\'rhae-tweakwise-frontend.list.addButtonText\') }}\n        </sw-button>\n    </template>\n\n    <template slot="content">\n        <sw-entity-listing\n            v-if="items"\n            :items="items"\n            :repository="repository"\n            :showSelection="true"\n            :columns="columns"\n            detailRoute="rhae.tweakwise.frontend.detail"\n            @select-item="updateSelection"\n            @update-records="updateTotal">\n            <template #more-actions="{ item }">\n                <sw-context-menu-item @click="onDuplicate(item)">\n                    {{ $tc(\'sw-product.list.buttonDuplicate\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-entity-listing>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","numberRangeService","context"],mixins:[F.getByName("notification"),F.getByName("listing")],data:function(){return{items:null,sortBy:"name"}},metaInfo:function(){return{title:this.$createTitle()}},computed:{repository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_frontend")},searchContext:function(){return P(P({},z.api),{},{inheritance:!0})},columns:function(){return[{property:"name",dataIndex:"name",label:this.$t("rhae-tweakwise-frontend.list.columns.name"),routerLink:"rhae.tweakwise.frontend.detail",inlineEdit:"string",allowResize:!0,primary:!0}]}},methods:{getList:function(){var e,t=this;return(e=N().mark((function e(){var n,r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new B(t.page,t.limit,t.term),t.isLoading=!0,e.prev=2,e.next=5,t.repository.search(n,Shopware.Context.api);case 5:r=e.sent,t.total=r.total,t.isLoading=!1,t.items=r,t.selection={},e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t.isLoading=!1;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){A(o,r,i,a,s,"next",e)}function s(e){A(o,r,i,a,s,"throw",e)}a(void 0)}))})()},changeLanguage:function(){this.getList()},updateSelection:function(){},updateTotal:function(e){var t=e.total;this.total=t},onDuplicate:function(e){var t=this;this.repository.clone(e.id,Shopware.Context.api,{name:"".concat(e.name," ").concat(this.$tc("sw-product.general.copy")),locked:!1}).then((function(e){t.$router.push({name:"rhae.tweakwise.frontend.detail",params:{id:e.id}})}))}},created:function(){}});var $='<sw-page class="rhae-tweakwise-frontend-detail">\n    <template slot="smart-bar-actions">\n        <sw-button :routerLink="{ name: \'rhae.tweakwise.frontend.list\' }">\n            {{ $t(\'rhae-tweakwise-frontend.detail.cancelButtonText\') }}\n        </sw-button>\n\n        <sw-button-process\n                :isLoading="isLoading"\n                :processSuccess="processSuccess"\n                variant="primary"\n                @process-finish="saveFinish"\n                @click="onClickSave">\n            {{ $t(\'rhae-tweakwise-frontend.detail.saveButtonText\') }}\n        </sw-button-process>\n    </template>\n\n    <template slot="content">\n        <sw-card-view>\n            <sw-card v-if="item" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-frontend.detail.section.main\')">\n\n                <sw-card-section>\n                    <sw-entity-multi-select\n                            :label="$t(\'rhae-tweakwise-frontend.detail.label.salesChannelDomains\')"\n                            labelProperty="url"\n                            value-property="id"\n                            v-model="item.salesChannelDomains"\n                    />\n\n                    <sw-field :label="$t(\'rhae-tweakwise-frontend.detail.label.name\')"\n                              v-model="item.name"\n                              required validation="required" ></sw-field>\n\n                    <sw-field :label="$t(\'rhae-tweakwise-frontend.detail.label.token\')"\n                              v-model="item.token"></sw-field>\n\n                    <sw-select-field :label="$t(\'rhae-tweakwise-frontend.detail.label.integration\')"\n                                     v-model="item.integration">\n                        <option v-for="value in [\'no-integration\',\'javascript\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.integrationOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n\n                </sw-card-section>\n\n            </sw-card>\n            <sw-card v-if="item && item.integration === \'javascript\'" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-frontend.detail.section.search\')">\n                <sw-card-section>\n                    <sw-select-field :label="$t(\'rhae-tweakwise-frontend.detail.label.wayOfSearch\')"\n                                     v-model="item.wayOfSearch"\n                                     v-if="item.integration === \'javascript\'">\n                        <option v-for="value in [\'instant-search\',\'suggestions\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.wayOfSearchOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n\n                    <sw-container\n                            columns="2fr 2fr 2fr"\n                            gap="0px 30px"\n                    >\n                        <sw-number-field numberType="int" :label="$t(\'rhae-tweakwise-frontend.detail.label.productsDesktop\')"\n                                         v-model="item.productsDesktop">\n                        </sw-number-field>\n                        <sw-number-field numberType="int" :label="$t(\'rhae-tweakwise-frontend.detail.label.productsTablet\')"\n                                         v-model="item.productsTablet">\n                        </sw-number-field>\n                        <sw-number-field numberType="int" :label="$t(\'rhae-tweakwise-frontend.detail.label.productsMobile\')"\n                                         v-model="item.productsMobile">\n                        </sw-number-field>\n                    </sw-container>\n\n                    <sw-select-field :label="$t(\'rhae-tweakwise-frontend.detail.label.paginationType\')"\n                                     v-model="item.paginationType">\n                        <option v-for="value in [\'default\',\'button\', \'infinite\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.paginationTypeOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n\n                </sw-card-section>\n            </sw-card>\n            <sw-card v-if="item && item.integration === \'javascript\'" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-frontend.detail.section.checkoutSales\')">\n                <sw-card-section>\n                    <sw-select-field :label="$t(\'rhae-tweakwise-frontend.detail.label.checkoutSales\')"\n                                     v-model="item.checkoutSales"\n                                     v-if="item.integration === \'javascript\'">\n                        <option v-for="value in [\'no-checkout-sales\',\'featured-products\',\'recommendations\']" :value="value">\n                            {{ $tc(\'rhae-tweakwise-frontend.detail.label.checkoutSalesOptions.\' + value) }}\n                        </option>\n                    </sw-select-field>\n\n                    <sw-field :label="$t(\'rhae-tweakwise-frontend.detail.label.checkoutSalesFeaturedProductsId\')"\n                              v-if="item.integration === \'javascript\' && item.checkoutSales === \'featured-products\'"\n                              v-model="item.checkoutSalesFeaturedProductsId"></sw-field>\n\n                    <sw-field :label="$t(\'rhae-tweakwise-frontend.detail.label.checkoutSalesRecommendationsGroupKey\')"\n                              v-if="item.integration === \'javascript\' && item.checkoutSales === \'recommendations\'"\n                              v-model="item.checkoutSalesRecommendationsGroupKey"></sw-field>\n                </sw-card-section>\n            </sw-card>\n        </sw-card-view>\n    </template>\n\n</sw-page>\n';Shopware.Component.extend("rhae-tweakwise-frontend-create","rhae-tweakwise-frontend-detail",{template:$,methods:{getItem:function(){this.item=this.repository.create(Shopware.Context.api),this.isLoading=!1},onClickSave:function(){var e=this;this.isLoading=!0,this.repository.save(this.item,Shopware.Context.api).then((function(){e.isLoading=!1,e.$router.push({name:"rhae.tweakwise.frontend.detail",params:{id:e.item.id}})})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$tc("rhae-tweakwise.notification.errorTitle"),message:t})}))}}});n("y650");function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=Shopware,X=U.Component,K=U.Mixin,J=U.Context,Q=Shopware.Data,V=Q.EntityCollection,q=Q.Criteria;Shopware.Component.getComponentHelper().mapPropertyErrors;X.register("rhae-tweakwise-frontend-detail",{template:$,inject:["repositoryFactory","context"],mixins:[K.getByName("notification")],metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{item:null,salesChannelDomains:null,isLoading:!1,processSuccess:!1,salesChannelDomainIds:[]}},computed:{repository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_frontend")},salesChannelDomainRepository:function(){return this.repositoryFactory.create("sales_channel_domain")},salesChannelDomainIds:{get:function(){return this.salesChannelDomainIds||[]},set:function(e){this.salesChannelDomainIds=Y(Y({},this.salesChannelDomainIds),{},{salesChannelDomainIds:e})}},defaultCriteria:function(){return new q}},created:function(){this.getItem(),this.getSalesChannelDomains()},methods:{getSalesChannelDomains:function(){this.salesChannelDomains=new V(this.salesChannelDomainRepository.route,this.salesChannelDomainRepository.entityName,J.api)},getItem:function(){var e=this,t=new q;t.addAssociation("salesChannelDomains"),this.repository.get(this.$route.params.id,J.api,t).then((function(t){e.item=t}))},onClickSave:function(){var e=this;this.isLoading=!0,this.repository.save(this.item,J.api).then((function(){e.getItem(),e.isLoading=!1,e.processSuccess=!0})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$tc("rhae-tweakwise-frontend.notification.errorTitle"),message:t})}))},setSalesChannelDomains:function(e){this.salesChannelDomains=e,this.item.salesChannelDomains=e},saveFinish:function(){this.processSuccess=!1}}});var ee=n("U69x"),te=n("fFkM");Shopware.Module.register("rhae-tweakwise-frontend",{type:"plugin",name:"Tweakwise frontend",title:"rhae-tweakwise-frontend.main.menuLabel",description:"rhae-tweakwise-frontend.main.menuDescription",color:"#01b7cd",snippets:{"nl-NL":ee,"en-GB":te},routes:{list:{component:"rhae-tweakwise-frontend-list",path:"list",meta:{parentPath:"sw.settings.index.plugins"}},detail:{component:"rhae-tweakwise-frontend-detail",path:"detail/:id",meta:{parentPath:"rhae.tweakwise.frontend.list"}},create:{component:"rhae-tweakwise-frontend-create",path:"create",meta:{parentPath:"rhae.tweakwise.frontend.list"}}},settingsItem:{name:"rhae-tweakwise-frontend-list",to:"rhae.tweakwise.frontend.list",label:"rhae-tweakwise-frontend.main.menuLabel",group:"plugins",iconComponent:"rhae-tweakwise-settings-icon"}});Shopware.Component.override("sw-cms-sidebar",{template:"{% block sw_cms_sidebar_block_overview_category_options %}\n    {% block sw_cms_sidebar_block_overview_category_tweakwise %}\n        <option value=\"tweakwise\">\n            {{ $tc('sw-cms.component.sw-cms-sidebar.blockTweakwise') }}\n        </option>\n    {% endblock %}\n\n    {% parent %}\n{% endblock %}\n"})},GQH3:function(e){e.exports=JSON.parse('{"rhae-tweakwise-feed":{"main":{"menuLabel":"Tweakwise Feed","menuDescription":"Configure your Tweakwise feed"},"list":{"addButtonText":"Create new feed","refreshButtonText":"Refresh","columns":{"name":"Feed name"}},"detail":{"cancelButtonText":"Cancel","saveButtonText":"Save","section":{"main":"General","data":"Data"},"label":{"name":"Name","salesChannelDomains":"Domains","feedUrl":"Feed URL","lastGeneratedAt":"Last generated at","includeHiddenCategories":"Include hidden categories","includeHiddenCategoriesTrue":"True","includeHiddenCategoriesFalse":"False","interval":"Interval","intervalDescription":"Please be aware that the interval should be set as discussed with Tweakwise. It doesn\'t make sense to generate the feed every 30 minutes while Tweakwise gets the feed only once a day.","nextGenerationAt":"Will be regenerated on","status":"Status","statusOption":{"queued":"Queued","running":"Running","completed":"Completed","undefined":"-","null":"-"},"intervalOptions":{"30":"30 minutes","60":"1 hour","360":"6 hours","720":"12 hours","1440":"24 hours"},"generateNow":"Generate now","withinOneMinute":"Within one minute"},"generate":{"heading":"Generate feed","text":"The Tweakwise feed is automatically generated periodically. If you want to generate the feed now, you can do this by using the button on the right.","button":"Generate feed"}}}}')},HqnL:function(e,t,n){var r=n("MwHQ");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("28163885",r,!0,{})},LZw9:function(e){e.exports=JSON.parse('{"rhae-tweakwise-feed":{"main":{"menuLabel":"Tweakwise Feed","menuDescription":"Configureer je Tweakwise feed"},"list":{"addButtonText":"Maak nieuwe feed","refreshButtonText":"Vernieuwen","columns":{"name":"Feed naam"}},"detail":{"cancelButtonText":"Annuleren","saveButtonText":"Opslaan","section":{"main":"Algemeen","data":"Data"},"label":{"name":"Naam","salesChannelDomains":"Domeinen","feedUrl":"Feed URL","lastGeneratedAt":"Laatst gegenereerd op","includeHiddenCategories":"Exporteer ook verborgen categorien.","includeHiddenCategoriesTrue":"Ja","includeHiddenCategoriesFalse":"Nee","interval":"Interval","intervalDescription":"Let op dat de interval moet worden ingesteld in overleg met Tweakwise. Het heeft bijvoorbeeld geen nut om de feed iedere 30 minuten te updaten terwijl Tweakwise de feed maar een keer per dag ophaalt.","nextGenerationAt":"Wordt opnieuw genegereerd op","status":"Status","statusOption":{"queued":"Queued","running":"Running","completed":"Completed","undefined":"-","null":"-"},"intervalOptions":{"30":"30 minuten","60":"1 uur","360":"6 uur","720":"12 uur","1440":"24 uur"},"generateNow":"Generate now","withinOneMinute":"Within one minute"}}}}')},MwHQ:function(e,t,n){},OFZu:function(e,t,n){var r=n("aVjq");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("99c86688",r,!0,{})},SZ7m:function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=o[0],s={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}n.r(t),n.d(t,"default",(function(){return m}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,u=function(){},d=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,i){l=n,d=i||{};var a=r(e,t);return h(a),function(t){for(var n=[],i=0;i<a.length;i++){var s=a[i];(c=o[s.id]).refs--,n.push(c)}t?h(a=r(e,t)):a=[];for(i=0;i<n.length;i++){var c;if(0===(c=n[i]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete o[c.id]}}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(g(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(g(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:a}}}}function w(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function g(e){var t,n,r=document.querySelector("style["+p+'~="'+e.id+'"]');if(r){if(l)return u;r.parentNode.removeChild(r)}if(f){var i=c++;r=s||(s=w()),t=b.bind(null,r,i,!1),n=b.bind(null,r,i,!0)}else r=w(),t=k.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var v,y=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function b(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function k(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(p,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},U69x:function(e){e.exports=JSON.parse('{"rhae-tweakwise-frontend":{"main":{"menuLabel":"Tweakwise frontend","menuDescription":"Configureer je Tweakwise frontend"},"list":{"addButtonText":"Maak nieuwe frontend","refreshButtonText":"Vernieuwen","columns":{"name":"Frontend naam"}},"detail":{"cancelButtonText":"Annuleren","saveButtonText":"Opslaan","section":{"main":"Algemeen","data":"Data","checkoutSales":"Kassakoopjes","search":"Zoeken"},"label":{"name":"Naam","token":"Authorisatie sleutel","integration":"Manier van integreren","integrationOptions":{"no-integration":"Geen integratie","javascript":"JavaScript integratie"},"wayOfSearch":"Manier van zoeken","wayOfSearchOptions":{"instant-search":"Direct zoeken","suggestions":"Suggesties + aparte zoekpagina"},"checkoutSales":"Kassakoopjes","checkoutSalesOptions":{"no-checkout-sales":"Geen kassakoopjes","featured-products":"Toon uitgelichte producten","recommendations":"Toon aanbevelingen gebaseerd op het laatst toegevoegde product"},"checkoutSalesFeaturedProductsId":"ID van uitegelichte producten groep","checkoutSalesRecommendationsGroupKey":"Groep sleutel gebruikt voor cross-sell","salesChannelDomains":"Domeinen","productsDesktop":"Aantal producten per rij op desktop","productsTablet":"Aantal producten per rij op tablet","productsMobile":"Aantal producten per rij op mobiel","paginationType":"Type paginering","paginationTypeOptions":{"default":"Standaard","button":"Knop","infinite":"Oneindig"}}}}}')},UqCn:function(e,t,n){},VoQG:function(e,t,n){var r=n("cqHc");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("ed907ae8",r,!0,{})},Yeqb:function(e,t,n){},aVjq:function(e,t,n){},cqHc:function(e,t,n){},dBLl:function(e,t,n){var r=n("UqCn");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("06ca9a08",r,!0,{})},fFkM:function(e){e.exports=JSON.parse('{"rhae-tweakwise-frontend":{"main":{"menuLabel":"Tweakwise frontend","menuDescription":"Configure your Tweakwise frontend"},"list":{"addButtonText":"Create new frontend","refreshButtonText":"Refresh","columns":{"name":"Frontend name"}},"detail":{"cancelButtonText":"Cancel","saveButtonText":"Save","section":{"main":"General","data":"Data","checkoutSales":"Checkout sales","search":"Search"},"label":{"name":"Name","token":"Authorization key","integration":"Way of integration","integrationOptions":{"no-integration":"No integration","javascript":"JavaScript implementation"},"wayOfSearch":"Way of search","wayOfSearchOptions":{"instant-search":"Instant search","suggestions":"Suggestions + Dedicated search page"},"checkoutSales":"Checkout sales","checkoutSalesOptions":{"no-checkout-sales":"No checkout sales","featured-products":"Show featured products","recommendations":"Show recommendations based on last item in cart"},"checkoutSalesFeaturedProductsId":"ID of Featured Products group","checkoutSalesRecommendationsGroupKey":"Group key used for cross-sell","salesChannelDomains":"Domains","productsDesktop":"Products per row on desktop","productsTablet":"Products per row on tablet","productsMobile":"Products per row on mobile","paginationType":"Type of pagination","paginationTypeOptions":{"default":"Default","button":"Button","infinite":"Infinite"}}}}}')},lYK4:function(e,t,n){var r=n("Yeqb");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("63a27890",r,!0,{})},nvd3:function(e,t,n){},y650:function(e,t,n){var r=n("nvd3");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("c894cbb8",r,!0,{})}});
//# sourceMappingURL=rhae-tweakwise.js.map